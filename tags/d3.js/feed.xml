<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>d3.js on jinyongp.dev</title><link>https://jinyongp.dev/tags/d3.js/</link><description>Recent content in d3.js on jinyongp.dev</description><generator>Hugo -- gohugo.io</generator><language>ko</language><managingEditor>dev.jinyongp@gmail.com (Jinyong Park)</managingEditor><webMaster>dev.jinyongp@gmail.com (Jinyong Park)</webMaster><copyright>Copyright 2023. Jinyong Park. All rights reserved.</copyright><lastBuildDate>Fri, Apr 22 14:18:15 2022 +0000</lastBuildDate><atom:link href="https://jinyongp.dev/tags/d3.js/feed.xml" rel="self" type="application/rss+xml"/><item><title>Refactoring for Performance (Canvas API)</title><link>https://jinyongp.dev/posts/d3js/4/</link><pubDate>Fri, Apr 22 14:18:15 2022 +0000</pubDate><author>dev.jinyongp@gmail.com (Jinyong Park)</author><guid>https://jinyongp.dev/posts/d3js/4/</guid><description>&lt;h1 id="introduction">Introduction&lt;/h1>
&lt;p>Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÌïÑÏöîÌïú Í∏∞Îä•ÏùÄ Ï†ÑÎ∂Ä Íµ¨ÌòÑÌï¥Î≥¥ÏïòÏßÄÎßå, &lt;code>svg&lt;/code> ÏöîÏÜåÏùò Í∞úÏàòÍ∞Ä Ï¶ùÍ∞ÄÌï†ÏàòÎ°ù ÏÑ±Îä•Ïù¥ ÌïòÎùΩÌïòÎäî Î™®ÏäµÏùÑ ÌôïÏù∏ÌñàÏäµÎãàÎã§. 50Í∞úÏùò &lt;code>nodes&lt;/code>Ïóê ÎåÄÌï¥ DevToolsÎ°ú Ï∏°Ï†ïÌï¥Î≥∏ Í≤∞Í≥º, Î†åÎçîÎßÅ Ïó∞ÏÇ∞Ïóê ÍµâÏû•Ìûà ÎßéÏùÄ CPU, GPU ÏûëÏóÖÏùÑ ÌïÑÏöîÎ°ú ÌïòÍ≥† ÏûàÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://jinyongp.dev/image/d3-force-svg-50-performance.png" alt="SVG 50 Performance">&lt;/p>
&lt;p>Ïù¥Î•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú &lt;a
class="underline-lsre"
href="https://developer.mozilla.org/ko/docs/Web/API/Canvas_API"
target="_blank" rel="noopener noreferrer nofollow"
>Canvas API&lt;/a
>
Î•º Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. Canvas APIÎ•º Ïù¥Ïö©ÌïòÎ©¥ d3-selectionÏùÑ Îã§Î£∞ ÏùºÏùÄ Í±∞Ïùò ÏóÜÏäµÎãàÎã§. ÌäπÌûàÎÇò Ïù¥Î≤àÏ≤òÎüº Îã®ÏàúÌûà ÏõêÍ≥º ÏÑ†Îßå Í∑∏Î¶¨Î©¥ ÎêòÎäî ÏûëÏóÖÏóêÏÑúÎäî Í∑∏Î¶¨Í∏∞ ÎçîÏö± ÏâΩÏäµÎãàÎã§. ÎåÄÏã† zoomÍ≥º dragÎäî Íµ¨ÌòÑ Î∞©ÏãùÏóê Ï∞®Ïù¥Í∞Ä ÏûàÏñ¥ Îã§ÏÜå Ïñ¥Î†§Ïö¥ Ï†êÎèÑ ÏûàÏäµÎãàÎã§. Í∑∏Îüº Î∞îÎ°ú ÏΩîÎìúÏôÄ Ìï®Íªò Ï†ÄÎ≤à ÏãúÍ∞ÑÏóê ÏûëÏÑ±Ìïú ÎÇ¥Ïö©ÏùÑ Canvas APIÎ°ú Î¶¨Ìå©ÌÜ†ÎßÅÌï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î≤à ÏãúÎ¶¨Ï¶àÏóêÏÑ† Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÏôÑÏÑ±ÌñàÎçò &lt;code>network&lt;/code> classÎ•º Ïù¥Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="drawing-canvas">Drawing Canvas&lt;/h2>
&lt;p>Canvas APIÎäî Îßê Í∑∏ÎåÄÎ°ú &lt;a
class="underline-lsre"
href="https://ko.wikipedia.org/wiki/%EC%BA%94%EB%B2%84%EC%8A%A4"
target="_blank" rel="noopener noreferrer nofollow"
>Ï∫îÎ≤ÑÏä§&lt;/a
>
Î°ú Î≥º Ïàò ÏûàÏäµÎãàÎã§. Í∑∏ ÏúÑÏóê Í∑∏Î¶ºÏùÑ Í∑∏Î¶¨Í≥† ÏàòÏ†ïÏù¥ ÌïÑÏöîÌïòÎã§Î©¥ Ï†ÑÎ∂Ä ÏßÄÏö∞Í≥† Îã§Ïãú Í∑∏Î¶¨Î©¥ Îê©ÎãàÎã§. Ïï†ÎãàÎ©îÏù¥ÏÖòÏù¥ÎùºÎ©¥ Îß§ ÌîÑÎ†àÏûÑÎßàÎã§ ÏßÄÏö∞Í≥† Í∑∏Î¶¨Í∏∞Î•º Î∞òÎ≥µÌï©ÎãàÎã§. Ïù¥Ï≤òÎüº d3-force ÎòêÌïú Îß§ Ìã±ÎßàÎã§ Î∞òÎ≥µÌïòÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;blockquote>
&lt;p>d3.jsÏóê ÎåÄÌï¥ÏÑú Ï§ëÏ†êÏ†ÅÏúºÎ°ú Îã§Î£®Îäî ÌîÑÎ°úÏ†ùÌä∏Ïù¥ÎØÄÎ°ú Canvas APIÏóê ÎåÄÌï¥ ÏûêÏÑ∏Ìïú Ïñ∏Í∏âÏùÄ ÏóÜÏäµÎãàÎã§. Ïù¥Ïóê ÎåÄÌïú ÎÇ¥Ïö©ÏùÄ &lt;a
class="underline-lsre"
href="https://developer.mozilla.org/ko/docs/Web/API/Canvas_API"
target="_blank" rel="noopener noreferrer nofollow"
>Í≥µÏãù Î¨∏ÏÑú&lt;/a
>
Î•º Ï∞∏Í≥† Î∞îÎûçÎãàÎã§.&lt;/p>
&lt;/blockquote>
&lt;p>Svg Î∞©ÏãùÏóêÏÑúÎäî &lt;code>svg&lt;/code> ÏöîÏÜåÎ•º ÏÉùÏÑ±ÌïòÍ≥† &lt;code>tick&lt;/code>ÏóêÏÑú ÏúÑÏπòÎ•º Î≥ÄÍ≤ΩÌïòÎäî Î∞©ÏãùÏúºÎ°ú Íµ¨ÌòÑÌñàÏäµÎãàÎã§. Canvas Î∞©ÏãùÏóêÏÑ† Í∑∏ÎÉ• Í∑∏Î†§Ï£ºÍ∏∞Îßå ÌïòÎ©¥ Îê©ÎãàÎã§. Ïù¥Î•º ÏúÑÌï¥ &lt;code>canvas&lt;/code>ÏôÄ &lt;code>ctx&lt;/code>Î•º ÏÉùÏÑ±ÌïòÍ≥† &lt;code>tick&lt;/code> Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï¥Î¥ÖÏãúÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">class network {
constructor() {
this.canvas = d3.select(&amp;quot;body&amp;quot;)
.append(&amp;quot;canvas&amp;quot;)
.attr(&amp;quot;width&amp;quot;, this.size.w)
.attr(&amp;quot;height&amp;quot;, this.size.h)
.style(&amp;quot;display&amp;quot;, &amp;quot;block&amp;quot;);
this.ctx = this.canvas.node().getContext(&amp;quot;2d&amp;quot;);
this.nodeRadius = 8;
this.simulation = d3
.forceSimulation()
.on(&amp;quot;tick&amp;quot;, this.drawCanvas.bind(this));
}
drawCanvas() {
this.ctx.clearRect(0, 0, this.size.w, this.size.h);
this.ctx.save();
this.drawLinks();
this.drawNodes();
this.ctx.restore();
}
drawNodes() {
console.log(&amp;quot;Drawing Nodes!&amp;quot;);
}
drawLinks() {
console.log(&amp;quot;Drawing Links!&amp;quot;);
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;code>drawCanvas()&lt;/code>, &lt;code>drawNodes()&lt;/code> Í∑∏Î¶¨Í≥† &lt;code>drawLinks()&lt;/code> Ìï®Ïàò ÎÇ¥ÏóêÏÑ† Ïù¥Ï†ú d3-selection ÏóÜÏù¥ &lt;code>ctx&lt;/code>ÎßåÏúºÎ°ú Í∑∏Î¶ºÏùÑ Í∑∏Î¶ΩÎãàÎã§. Î®ºÏ†Ä &lt;a
class="underline-lsre"
href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>ctx.clearRect()&lt;/code>&lt;/a
>
Î°ú &lt;code>canvas&lt;/code>Î•º Ï†ÑÎ∂Ä ÏßÄÏõåÏ§çÎãàÎã§. Í∑∏Î¶¨Í≥† &lt;code>drawNodes()&lt;/code>ÏôÄ &lt;code>drawLinks()&lt;/code>Î•º Ìò∏Ï∂úÌïòÏó¨ &lt;code>nodes&lt;/code>ÏôÄ &lt;code>links&lt;/code>Î•º Í∑∏Î†§Ï§çÎãàÎã§. Ïù¥ Îïå, &lt;code>links&lt;/code>Î•º Î®ºÏ†Ä Í∑∏Î†§Ï§òÏïºÎßå &lt;code>nodes&lt;/code> Îí§Ïóê Í∑∏Î†§ÏßëÎãàÎã§.&lt;/p>
&lt;p>&lt;code>links&lt;/code>Îäî ÍµâÏû•Ìûà Í∞ÑÎã®ÌïòÍ≤å Í∑∏Î¶¥ Ïàò ÏûàÏäµÎãàÎã§. &lt;code>links&lt;/code>Î•º ÏàúÌöåÌïòÎ©¥ÏÑú ÏÑ†ÏùÑ Í∑∏Î†§Ï§çÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">drawLinks() {
this.links.forEach(({ source, target }) =&amp;gt; {
this.ctx.beginPath();
this.ctx.moveTo(source.x, source.y);
this.ctx.lineTo(target.x, target.y);
this.ctx.stroke();
});
}
&lt;/code>&lt;/pre>
&lt;p>&lt;code>nodes&lt;/code>Îäî Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú Í∑∏Î†∏Îçò Í≤ÉÏ≤òÎüº Ïõê Ï§ëÏïôÏóê &lt;code>id&lt;/code>Í∞Ä ÏúÑÏπòÌïòÎèÑÎ°ù ÏûëÏÑ±Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">drawNodes() {
this.nodes.forEach(({ id, x, y }) =&amp;gt; {
this.ctx.beginPath();
this.ctx.arc(x, y, this.nodeRadius, 0, 2 * Math.PI);
this.ctx.lineWidth = 3;
this.ctx.strokeStyle = &amp;quot;blue&amp;quot;;
this.ctx.stroke();
this.ctx.fillStyle = &amp;quot;#fff&amp;quot;;
this.ctx.fill();
this.ctx.textAlign = &amp;quot;center&amp;quot;;
this.ctx.textBaseline = &amp;quot;middle&amp;quot;;
this.ctx.fillStyle = &amp;quot;#000&amp;quot;;
this.ctx.fillText(id, x, y);
});
}
&lt;/code>&lt;/pre>
&lt;p>d3-selection ÏóÜÏù¥ Ïò§Î°úÏßÄ canvasÎßå Ïù¥Ïö©ÌïòÎØÄÎ°ú ÏâΩÍ≤å Í∑∏Î¶¥ Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="panning-and-zooming">Panning and Zooming&lt;/h2>
&lt;p>d3-zoomÏùÑ Ïó∞Í≤∞Ìï¥ÏÑú ÌôîÎ©¥ÏùÑ Ïù¥ÎèôÌïòÍ≥† ÌôïÎåÄ, Ï∂ïÏÜåÌï† Ïàò ÏûàÎèÑÎ°ù Íµ¨ÌòÑÌïòÍ≤†ÏäµÎãàÎã§. Svg Î∞©ÏãùÏóêÏÑ† ÏöîÏÜåÏùò &lt;code>transform&lt;/code> ÏÜçÏÑ±ÏùÑ Î≥ÄÍ≤ΩÌïòÏó¨ ÏßÅÏ†ë Ïù¥ÎèôÌñàÎã§Î©¥, canvas Î∞©ÏãùÏóêÏÑ† Ï†ÑÎ∂Ä ÏßÄÏö∞Í≥† ÏúÑÏπò Ïù¥Îèô ÌõÑ Îã§Ïãú Í∑∏Î†§Ï£ºÎäî Î∞©ÏãùÏúºÎ°ú Íµ¨ÌòÑÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">class network {
constructor() {
this.transform = d3.zoomIdentity;
this.zoom = d3.zoom()
.scaleExtent([0.1, 5])
.on('zoom', ({ transform }) =&amp;gt; {
this.transform = transform;
this.drawCanvas();
});
this.canvas.call(this.zoom);
}
drawCanvas() {
this.ctx.clearRect(0, 0, this.size.w, this.size.h);
this.ctx.save();
this.ctx.translate(this.transform.x, this.transform.y);
this.ctx.scale(this.transform.k, this.transform.k);
this.drawLinks();
this.drawNodes();
this.ctx.restore();
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom#zoomIdentity"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>d3.zoomIdentity&lt;/code>&lt;/a
>
Îäî &lt;code>{ k: 1, x: 0, y: 0 }&lt;/code>Ïù∏ Í∞ùÏ≤¥ÏûÖÎãàÎã§. Ïù¥Î•º Ïù¥Ïö©Ìï¥ &lt;code>transform&lt;/code> Î≥ÄÏàòÎ•º ÏÉùÏÑ±Ìïú Îí§, &lt;code>zoom&lt;/code> Ïù¥Î≤§Ìä∏Î°ú ÏñªÏùÄ &lt;code>transform&lt;/code>ÏùÑ Ï†ÄÏû•Ìï©ÎãàÎã§. Í∑∏ ÌõÑ, &lt;code>drawCanvas()&lt;/code>Î•º Ìò∏Ï∂úÌïòÏó¨ &lt;code>ctx.translate()&lt;/code>ÏôÄ &lt;code>ctx.scale()&lt;/code> Ìï®ÏàòÎ•º Ïù¥Ïö©Ìï¥ Î≥ÄÍ≤ΩÌïú ÏúÑÏπòÏóê Í∑∏Î¶¨ÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="focusing">Focusing&lt;/h2>
&lt;p>ÌäπÏ†ï ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå, Ìï¥Îãπ ÏöîÏÜåÎ•º Ìè¨Ïª§Ïã±ÌïòÎäî ÎèôÏûëÏùÑ Íµ¨ÌòÑÌï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. CanvasÎäî Í∞úÎ≥Ñ ÏöîÏÜåÎ•º ÏÑ†ÌÉùÌï† Ïàò ÏóÜÏñ¥ÏÑú ÏöîÏÜåÏóê Ïª§ÏÑú Ïä§ÌÉÄÏùºÏùÑ Ï†ÅÏö©ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Ï†ÅÏö©ÌïòÎäîÎç∞ Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏäµÎãàÎã§. ÌïòÏßÄÎßå, d3.jsÏóêÏÑú Ï†úÍ≥µÌïòÎäî Í∏∞Îä•Ïùò Ï°∞Ìï©ÏúºÎ°ú ÏâΩÍ≤å Íµ¨ÌòÑÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∞úÎ≥Ñ ÏöîÏÜåÍ∞Ä ÏïÑÎãå &lt;code>canvas&lt;/code> ÏûêÏ≤¥Ïóê ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§. Í∑∏Î†áÍ≤å ÏñªÏùÄ &lt;code>event&lt;/code>Î°úÎ∂ÄÌÑ∞ ÌÅ¥Î¶≠ Ï¢åÌëúÎ•º ÏñªÏñ¥ Ìï¥Îãπ ÏúÑÏπòÏóê Ï°¥Ïû¨ÌïòÎäî &lt;code>node&lt;/code>Î•º Ï∞æÍ≥†, Ìï¥Îãπ &lt;code>node&lt;/code>Î°ú Ïù¥ÎèôÌïòÍ≥† ÌôïÎåÄÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">class network {
constructor() {
this.canvas.on(&amp;quot;click&amp;quot;, ({ x, y }) =&amp;gt; {
const node = this.findNode(x, y);
if (!node) return;
this.canvas
.transition()
.duration(500)
.call(this.zoom.translateTo, node.x, node.y)
.transition()
.call(this.zoom.scaleTo, 3);
});
}
findNode(x, y) {
const [ix, iy] = this.transform.invert([x, y]);
return this.simulation.find(ix, iy, this.nodeRadius);
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;code>canvas&lt;/code>Ïóê &lt;code>click&lt;/code> Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌïòÏó¨ &lt;code>event&lt;/code> Í∞ùÏ≤¥Î°úÎ∂ÄÌÑ∞ ÌÅ¥Î¶≠Ìïú ÏúÑÏπòÏù∏ &lt;code>x&lt;/code>, &lt;code>y&lt;/code> Ï¢åÌëúÎ•º ÏñªÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>findNode()&lt;/code> Î©îÏÑúÎìúÎäî Ï£ºÏñ¥ÏßÑ Ï¢åÌëúÏóê &lt;code>node&lt;/code>Í∞Ä Ï°¥Ïû¨ÌïòÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥† Ìï¥Îãπ &lt;code>node&lt;/code>Î•º Î∞òÌôòÌï©ÎãàÎã§. &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom#transform_invert"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>transform.invert()&lt;/code>&lt;/a
>
Îäî Ï£ºÏñ¥ÏßÑ Ï†àÎåÄ Ï¢åÌëúÏóê ÌòÑÏû¨ &lt;code>transform&lt;/code> Ï¢åÌëúÍ∞íÏùÑ Ìè¨Ìï®ÌïòÏó¨ Í≥ÑÏÇ∞ÌïòÍ≥† Î∞òÌôòÌï©ÎãàÎã§. Ïù¥Î•º Ïù¥Ïö©Ìï¥ÏïºÎßå Î≥ÄÍ≤ΩÎêú &lt;code>transform&lt;/code>ÏùÑ Ï†ÅÏö©Ìïú Ï¢åÌëúÎ•º ÏñªÏùÑ Ïàò ÏûàÏäµÎãàÎã§. &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#simulation_find"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>simulation.find()&lt;/code>&lt;/a
>
Îäî Ï£ºÏñ¥ÏßÑ Ï¢åÌëúÏóêÏÑú Í∞ÄÏû• Í∞ÄÍπåÏù¥Ïóê ÏúÑÏπòÌïú &lt;code>node&lt;/code>Î•º Í≤ÄÏÉâÌïòÏó¨ Î∞òÌôòÌï©ÎãàÎã§. &lt;code>node&lt;/code>Ïùò Î∞òÏßÄÎ¶ÑÏùÑ Ï†úÍ≥µÌïòÏó¨ Ìï¥Îãπ ÏöîÏÜåÎ•º ÌÅ¥Î¶≠Ìï¥ÏïºÎßå &lt;code>node&lt;/code>Î•º Ï∞æÏùÑ Ïàò ÏûàÎèÑÎ°ù ÌïòÏòÄÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>node&lt;/code>Î•º Ï∞æÏïòÎã§Î©¥, &lt;code>zoom.translate&lt;/code>Î°ú Ìï¥Îãπ &lt;code>node&lt;/code> ÏúÑÏπòÎ°ú Ïù¥ÎèôÌïú ÌõÑ ÌôïÎåÄÌï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="dragging">Dragging&lt;/h2>
&lt;p>d3-dragÎ•º Ïó∞Í≤∞ÌïòÏó¨ ÏöîÏÜåÎ•º ÎìúÎûòÍ∑∏ÌïòÎäî Í∏∞Îä•ÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. Svg Î∞©ÏãùÏóêÏÑúÎäî &lt;code>circles&lt;/code>Ïóê dragÎ•º Î∂ÄÏ∞©ÌïòÏó¨ Î™®Îì† ÏöîÏÜåÏóê ÎåÄÌï¥ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌñàÏäµÎãàÎã§. Canvas Î∞©ÏãùÏóêÏÑúÎäî Í∑∏Îü∞ Î∞©Î≤ïÏù¥ Î∂àÍ∞ÄÎä•ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê, &lt;code>canvas&lt;/code>Ïóê Îì±Î°ùÌïòÎ©¥ÏÑú ÎèôÏãúÏóê ÌÅ¥Î¶≠Ìïú ÏöîÏÜåÎ•º Í≤ÄÏÉâÌïòÎäî &lt;code>subject&lt;/code>Î•º ÏÑ§Ï†ïÌï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">class network {
constructor() {
this.drag = d3
.drag()
.subject(({ x, y }) =&amp;gt; this.findNode(x, y))
.on(&amp;quot;start&amp;quot;, () =&amp;gt; {
this.canvas.style(&amp;quot;cursor&amp;quot;, &amp;quot;grabbing&amp;quot;);
this.simulation.alphaTarget(0.1).restart();
})
.on(&amp;quot;drag&amp;quot;, (event) =&amp;gt; {
const [x, y] = d3.pointer(event);
event.subject.fx = this.transform.invertX(x);
event.subject.fy = this.transform.invertY(y);
})
.on(&amp;quot;end&amp;quot;, ({ subject }) =&amp;gt; {
this.canvas.style(&amp;quot;cursor&amp;quot;, &amp;quot;default&amp;quot;);
this.simulation.alphaTarget(0);
subject.fx = null;
subject.fy = null;
});
this.canvas.call(this.drag);
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-drag#drag_subject"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>drag.subject()&lt;/code>&lt;/a
>
Îäî ÎìúÎûòÍ∑∏ÌïòÎ†§Îäî Ï£ºÏ≤¥ &lt;code>node&lt;/code>Î•º ÏÑ†ÌÉùÌï† Îïå Ïù¥Ïö©Ìï©ÎãàÎã§. &lt;code>findNode()&lt;/code> Ìï®ÏàòÎ°ú Í≤ÄÏÉâÌïú &lt;code>node&lt;/code>Î•º &lt;code>subject&lt;/code>Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§. ÏÑ§Ï†ï Ïù¥ÌõÑ, &lt;code>event&lt;/code> Í∞ùÏ≤¥ÏóêÏÑú &lt;code>subject&lt;/code> propertyÏóê ÏÑ†ÌÉùÌïú &lt;code>node&lt;/code>Í∞Ä Îì±Î°ùÎê©ÎãàÎã§.&lt;/p>
&lt;p>Drag Ïù¥Î≤§Ìä∏Ïóê Îì±Î°ùÌïú Ìï®ÏàòÎäî &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-drag#drag-events"
target="_blank" rel="noopener noreferrer nofollow"
>Ï≤´ Î≤àÏß∏ Ïù∏ÏûêÎ°ú &lt;code>event&lt;/code> Í∞ùÏ≤¥&lt;/a
>
Î•º Í∞ÄÏßëÎãàÎã§. Canvas Î∞©ÏãùÏùò Í≤ΩÏö∞ Í∞úÎ≥Ñ ÏöîÏÜåÍ∞Ä ÏïÑÎãå canvasÏóê Îì±Î°ùÎêòÏóàÍ∏∞ ÎïåÎ¨∏Ïóê &lt;code>event.x&lt;/code>ÏôÄ &lt;code>event.y&lt;/code>Ïùò Í∞íÏù¥ canvas Í∏∞Ï§ÄÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§. ÌÅ¥Î¶≠ ÏúÑÏπò Í∏∞Î∞òÏúºÎ°ú Ï¢åÌëúÎ•º Í∞ÄÏ†∏Ïò§Í∏∞ ÏúÑÌï¥ &lt;code>event.sourceEvent&lt;/code> Í∞ùÏ≤¥Î•º Ïù¥Ïö©Ìï¥ÏïºÌïòÎØÄÎ°ú &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-selection#pointer"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>d3.pointer()&lt;/code>Î•º Ïù¥Ïö©&lt;/a
>
Ìï¥ Ï¢åÌëúÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§. Í∑∏Î¶¨Í≥† &lt;code>transform&lt;/code>ÏùÑ Ï†ÅÏö©ÌïòÏó¨ &lt;code>subject&lt;/code>Ïùò Í≥†Ï†ï Ï¢åÌëúÎ•º Î≥ÄÍ≤ΩÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>start&lt;/code>ÏôÄ &lt;code>end&lt;/code> Ïù¥Î≤§Ìä∏ÏóêÏÑú &lt;code>cursor&lt;/code> Ïä§ÌÉÄÏùºÏùÑ Î≥ÄÍ≤ΩÌï¥Ï£ºÍ≥† ÏûàÏäµÎãàÎã§. Îã§Îßå, ÏöîÏÜåÏóê ÎßàÏö∞Ïä§Î•º Ïò¨Î†∏ÏùÑ ÎïåÎèÑ Ïä§ÌÉÄÏùºÏùÑ Î≥ÄÍ≤ΩÌï¥Ï£ºÍ∏∞ ÏúÑÌï¥ &lt;code>pointermove&lt;/code> Ïù¥Î≤§Ìä∏Î•º Ï∂îÍ∞ÄÌï¥Ï£ºÏóàÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">class network {
constructor() {
this.canvas.on(&amp;quot;pointermove&amp;quot;, ({ x, y, buttons }) =&amp;gt; {
if (buttons) return;
const node = this.findNode(x, y);
this.canvas.style(&amp;quot;cursor&amp;quot;, node ? &amp;quot;pointer&amp;quot; : &amp;quot;default&amp;quot;);
});
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;code>event.buttons&lt;/code>Îäî ÌòÑÏû¨ ÎßàÏö∞Ïä§Î•º ÌÅ¥Î¶≠Ìïú ÏÉÅÌÉúÏù∏ÏßÄ ÌåêÎ≥ÑÌïòÏó¨ ÎìúÎûòÍ∑∏ Ï§ëÏùº Îïê Î¨¥ÏãúÌïòÎèÑÎ°ù Ìï©ÎãàÎã§. &lt;code>node&lt;/code>Í∞Ä ÏúÑÏπòÌïòÎäî Í≥≥ÏóêÏÑúÎßå &lt;code>pointer&lt;/code> Ïä§ÌÉÄÏùºÏùÑ Í∞ñÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="impl">Impl.&lt;/h2>
&lt;p>Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÏûëÏÑ±Ìïú ÏΩîÎìúÎ•º CanvasÎ°ú ÏûëÏÑ±Ìï¥Î≥¥ÏïòÏäµÎãàÎã§. Ïù¥Ï†ú ÏöîÏÜåÏùò Í∞úÏàòÎ•º ÎßéÏù¥ Ï∂îÍ∞ÄÌïòÎçîÎùºÎèÑ ÏÑ±Îä• ÌïòÎùΩÏùò Î™®ÏäµÏùÑ Î≥¥Ïù¥ÏßÄ ÏïäÎäî Í±∏ ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p class="codepen" data-height="600" data-default-tab="result" data-slug-hash="qBpwbbR" data-editable="true" data-user="jinyongp" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
&lt;span>See the Pen &lt;a href="https://codepen.io/jinyongp/pen/qBpwbbR">
D3 Force (w/ Canvas)&lt;/a> by Park, Jinyong (&lt;a href="https://codepen.io/jinyongp">@jinyongp&lt;/a>)
on &lt;a href="https://codepen.io">CodePen&lt;/a>.&lt;/span>
&lt;/p>
&lt;script async src="https://cpwebassets.codepen.io/assets/embed/ei.js">&lt;/script>
&lt;hr>
&lt;h2 id="conclusion">Conclusion&lt;/h2>
&lt;p>ÏÑ±Îä• Ìñ•ÏÉÅÏùÑ ÏúÑÌï¥ Ïó¨ÌÉúÍπåÏßÄ ÏûëÏóÖÌñàÎçò ÎÇ¥Ïö©ÏùÑ Canvas APIÎ°ú Îã§Ïãú ÏûëÏÑ±Ìï¥Î≥¥ÏïòÏäµÎãàÎã§. Îã®ÏàúÌûà Í∑∏Î†§Î≥¥Îäî Í±¥ Ïâ¨Ïõ†ÏßÄÎßå zoomÍ≥º drag Í∏∞Îä•ÏùÑ Ï†ÅÏö©ÌïòÎäî Í±¥ Ïó¨Îü¨ ÏãúÌñâÏ∞©Ïò§Î•º Í±∞Ï≥êÏïºÌñàÍ≥† Îã§ÏñëÌïú Ìï®ÏàòÎ•º Ï†ÅÏö©Ìï† ÌïÑÏöîÍ∞Ä ÏûàÏñ¥ svg Íµ¨ÌòÑ Î∞©ÏãùÎ≥¥Îã§ Ïñ¥Î†§ÏõÄÏùÑ Í≤™ÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏÑ±Îä•ÏùÑ Ï∏°Ï†ïÌï¥Î≥¥Í≤†ÏäµÎãàÎã§. 50Í∞úÏùò &lt;code>node&lt;/code>Î•º ÌÖåÏä§Ìä∏ÌñàÎçò svg Î∞©ÏãùÍ≥º Îã¨Î¶¨ 200Í∞úÏùò &lt;code>node&lt;/code>Î•º ÏÉùÏÑ±ÌïòÍ≥† Ï∏°Ï†ïÌï¥Î¥§ÏùåÏóêÎèÑ ÍµâÏû•Ìïú ÏÑ±Îä• Ìñ•ÏÉÅÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§. ÎåÄÎ∂ÄÎ∂ÑÏùÄ Ìï®Ïàò Ïã§Ìñâ ÏãúÍ∞ÑÏù¥Í≥† ÎûúÎçîÎßÅ Ïó∞ÏÇ∞ÏùÄ Í±∞Ïùò ÏòÅÌñ•ÏùÑ ÎØ∏ÏπòÏßÄ ÏïäÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://jinyongp.dev/image/d3-force-canvas-200-performance.png" alt="Canvas 200 Performance">&lt;/p>
&lt;p>ÏßÄÍ∏àÍπåÏßÄ d3-force, selection, zoom, drag Îì± Îã§ÏñëÌïú d3.js Î™®ÎìàÏùÑ ÏÇ¨Ïö©Ìï¥Î≥¥ÏïòÍ≥† Canvas APIÎ°ú ÏûëÏÑ±Ìï¥Î≥¥Î©∞ ÏÑ±Îä• Ìñ•ÏÉÅ ÎòêÌïú ÏßÑÌñâÌï¥Î≥¥ÏïòÏäµÎãàÎã§. d3.jsÏóêÎäî Ïù¥ Ïô∏ÏóêÎèÑ Î¨¥ÏàòÌûà ÎßéÏùÄ Î™®ÎìàÏù¥ ÏûàÏäµÎãàÎã§. Îç∞Ïù¥ÌÑ∞Î•º ÏãúÍ∞ÅÌôîÌïòÎäîÎç∞ Î¨¥Í∂ÅÎ¨¥Í∂ÅÏßÑ Ïû†Ïû¨Î†•ÏùÑ ÏßÄÎãåÎßåÌÅº Îçî Îã§ÏñëÌïòÍ≤å ÌôúÏö©Ìï¥Î≥¥Î©∞ Ïó¨Îü¨ ÌîÑÎ°úÏ†ùÌä∏ÏóêÏÑú ÌôúÏö©Ìï¥Î≥¥ÏãúÎ©¥ Ï¢ãÏùÑ ÎìØ Ïã∂ÏäµÎãàÎã§. Í∏¥ Í∏Ä ÏùΩÏñ¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a
class="underline-lsre"
href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D"
target="_blank" rel="noopener noreferrer nofollow"
>MDN - CanvasRenderingContext2D&lt;/a
>
&lt;/li>
&lt;/ul></description></item><item><title>Panning, Zooming and Dragging</title><link>https://jinyongp.dev/posts/d3js/3/</link><pubDate>Thu, Apr 21 11:16:27 2022 +0000</pubDate><author>dev.jinyongp@gmail.com (Jinyong Park)</author><guid>https://jinyongp.dev/posts/d3js/3/</guid><description>&lt;h1 id="introduction">Introduction&lt;/h1>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom"
target="_blank" rel="noopener noreferrer nofollow"
>d3-zoom&lt;/a
>
Í≥º &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-drag"
target="_blank" rel="noopener noreferrer nofollow"
>d3-drag&lt;/a
>
Îäî ÏÇ¨Ïö©ÏûêÍ∞Ä ÎßàÏö∞Ïä§ ÌÅ¥Î¶≠ ÌòπÏùÄ ÌÑ∞ÏπòÎ°ú ÌôîÎ©¥ÏùÑ Ï†úÏñ¥ÌïòÍ±∞ÎÇò ÏöîÏÜåÎ•º Ïù¥ÎèôÌïòÎäî Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î≤à ÏãúÎ¶¨Ï¶à ÎòêÌïú ÎßàÏ∞¨Í∞ÄÏßÄÎ°ú Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóê Íµ¨ÌòÑÌñàÎçò ÏΩîÎìúÏóê d3-zoomÍ≥º d3-dragÎ•º Í≤∞Ìï©ÌïòÎäî Í±∏ Î™©ÌëúÎ°ú ÌïòÏó¨ Í∑∏Ïóê ÌïÑÏöîÌïú Î∂ÄÎ∂ÑÎßå Îã§Î£®ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="d3-zoom">d3-zoom&lt;/h2>
&lt;p>d3-zoomÏùÄ ÏÇ¨Ïö©ÏûêÍ∞Ä ÌôîÎ©¥ÏùÑ ÎìúÎûòÍ∑∏ ÌòπÏùÄ Ïä§ÌÅ¨Î°§ÌïòÏó¨ ÌòÑÏû¨ Î≥¥Îäî Î≤îÏúÑÎ•º Ïù¥Îèô, ÌôïÎåÄ, Ï∂ïÏÜåÌïòÎäî Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. ÌòπÏùÄ, ÌäπÏ†ï ÏöîÏÜåÎ•º ÏÑ†ÌÉùÌñàÏùÑ Îïå Í∑∏ ÏúÑÏπòÎ°ú Ïù¥ÎèôÌïòÎ©¥ÏÑú Ìè¨Ïª§Ïä§ÌïòÎäî Ìö®Í≥ºÎ•º Ï§Ñ ÏàòÎèÑ ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="panning-and-zooming">Panning and Zooming&lt;/h3>
&lt;p>d3-zoomÏùÄ d3-selectionÍ≥º Ïó∞Í≥ÑÌïòÏó¨ Íµ¨ÌòÑÌï©ÎãàÎã§. &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Ïóê zoom Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌïòÍ∏∞ ÏúÑÌï¥ &lt;code>d3.zoom()&lt;/code> Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÏó¨ Ï†ÑÎã¨Ìï©ÎãàÎã§. Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÏÉùÏÑ±Ìïú &lt;code>root&lt;/code> ÏöîÏÜåÎ•º Í∞ÄÏ†∏ÏôÄ zoom Í∏∞Îä•ÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const zoom = d3
.zoom()
.on('zoom', (event) =&amp;gt; {
console.log('Zoom and Drag!');
});
root.call(zoom);
&lt;/code>&lt;/pre>
&lt;p>&lt;code>d3.zoom()&lt;/code> Ìï®ÏàòÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Ïù∏ÏûêÎ°ú Î∞õÎäî Ìï®ÏàòÎ•º ÏÉùÏÑ±ÌïòÏó¨ Î∞òÌôòÌï©ÎãàÎã§. &lt;code>root.call(zoom)&lt;/code>ÏùÑ Ìò∏Ï∂úÌï®ÏúºÎ°úÏç® Ïù∏ÏûêÎ°ú Î∞õÏùÄ &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom/blob/1bccd3fd56ea24e9658bd7e7c24e9b89410c8967/src/zoom.js#L72-L83"
target="_blank" rel="noopener noreferrer nofollow"
>Í∞ùÏ≤¥Ïóê Ïó¨Îü¨ propertyÏôÄ eventÎ•º Îì±Î°ù&lt;/a
>
ÌïòÍ≤å Îê©ÎãàÎã§.&lt;/p>
&lt;blockquote>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-selection#selection_call"
target="_blank" rel="noopener noreferrer nofollow"
>selection.call()&lt;/a
>
ÏùÄ &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Ïù∏ÏûêÎ°ú Î∞õÎäî Ìï®ÏàòÎ•º Ïù∏ÏûêÎ°ú Î∞õÏäµÎãàÎã§. &lt;code>root.call(zoom)&lt;/code>ÏùÄ Îã§Ïùå ÏΩîÎìúÏôÄ ÎèôÏùºÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">zoom(root);
&lt;/code>&lt;/pre>
&lt;/blockquote>
&lt;p>&lt;code>root&lt;/code> ÏöîÏÜåÎ•º ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò Ïä§ÌÅ¨Î°§ÏùÑ Ìï¥Î≥¥Î©¥ Ïù¥Î≤§Ìä∏Ïóê Îì±Î°ùÌïú Ìï®ÏàòÍ∞Ä Ïã§ÌñâÎê©ÎãàÎã§. &lt;code>zoom&lt;/code> Ïù¥Î≤§Ìä∏Ïóê Îì±Î°ùÌï† Ìï®ÏàòÎ•º ÏûëÏÑ±ÌïòÏó¨ ÏöîÏÜåÎ•º Ïù¥ÎèôÏãúÏºúÎ¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ï†ÑÎã¨Ìïú Ìï®ÏàòÎäî &lt;code>event&lt;/code> Í∞ùÏ≤¥Î•º Îß§Í∞úÎ≥ÄÏàòÎ°ú Í∞ÄÏßëÎãàÎã§. ÌÅ¥Î¶≠ Ïù¥ÎèôÏù∏ÏßÄ Ïä§ÌÅ¨Î°§Ïù∏ÏßÄÏóê Îî∞Îùº Ï¢ÖÎ•òÍ∞Ä Îã¨ÎùºÏßëÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">// MouseEvent
sourceEvent: MouseEvent {...}
target: ∆í y(t)
transform: Jx {k: x.xx, x: x.xx, y: x.xx}
type: &amp;quot;zoom&amp;quot;
// WheelEvent
sourceEvent: WheelEvent {...}
target: ∆í y(t)
transform: Jx {k: x.xx, x: x.xx, y: x.xx}
type: &amp;quot;zoom&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>Ïù¥ Ï§ëÏóêÏÑú scale factorÏù∏ &lt;code>k&lt;/code> ÏôÄ translation Í∞íÏù∏ &lt;code>x&lt;/code>, &lt;code>y&lt;/code>Î•º ÏñªÏùÑ Ïàò ÏûàÎäî &lt;code>transform&lt;/code> Í∞ùÏ≤¥Î•º Ïù¥Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">.on('zoom', ({ transform }) =&amp;gt; {
nodeGroup.attr('transform', transform);
linkGroup.attr('transform', transform);
});
&lt;/code>&lt;/pre>
&lt;p>Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÏÉùÏÑ±Ìïú &lt;code>nodeGroup&lt;/code>Í≥º &lt;code>linkGroup&lt;/code>ÏùÄ &lt;code>svg&lt;/code> ÏöîÏÜåÎ•º Í∞ÄÏßÄÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î°ú &lt;code>transform&lt;/code> ÏÜçÏÑ±ÏùÑ Î≥ÄÍ≤ΩÌïòÏó¨ ÏúÑÏπòÏôÄ ÌÅ¨Í∏∞Î•º Ï°∞Ï†àÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>transform&lt;/code>ÏùÄ Í∞ùÏ≤¥Ïù∏Îç∞ Í∑∏ÎåÄÎ°ú Ï†ÑÎã¨Ìï† Ïàò ÏûàÎäî Ïù¥Ïú†Îäî Ï†ÅÏö©Îê† Îïå &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom#transform_toString"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>transform.toString()&lt;/code>Ìï®ÏàòÍ∞Ä Ìò∏Ï∂úÎêòÏñ¥ &lt;code>&amp;quot;translate(x,y) scale(k)&amp;quot;&lt;/code> ÌòïÌÉúÏùò Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò&lt;/a
>
ÎêòÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.&lt;/p>
&lt;/blockquote>
&lt;p>ÌôîÎ©¥ÏùÑ ÎìúÎûòÍ∑∏ÌïòÏó¨ Ïù¥ÎèôÌïòÍ≥† Ïä§ÌÅ¨Î°§ÌïòÏó¨ ÌôïÎåÄ, Ï∂ïÏÜåÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="focusing">Focusing&lt;/h3>
&lt;p>Í∑∏Îüº ÌäπÏ†ï ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ìï¥Îãπ ÏöîÏÜåÎ•º Ìè¨Ïª§Ïä§ÌïòÎäî ÎèôÏûëÏóê ÎåÄÌï¥ Íµ¨ÌòÑÌï¥Î≥¥Í≤†ÏäµÎãàÎã§. ÏùºÎã® &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Ïóê Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌïòÍ∏∞ ÏúÑÌï¥ÏÑ† &lt;code>selection.on()&lt;/code> Î©îÏÑúÎìúÎ•º Ìò∏Ï∂úÌï©ÎãàÎã§. Ï†ÄÎ≤à ÏãúÎ¶¨Ï¶àÏóêÏÑú ÏÉùÏÑ±Ìïú &lt;code>circles&lt;/code>Î•º Í∞ÄÏ†∏Ïò§Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">circles.on('click', (event, node) =&amp;gt; {
console.log('Click!');
});
&lt;/code>&lt;/pre>
&lt;p>&lt;code>click&lt;/code> Ïù¥Î≤§Ìä∏Ïóê Îì±Î°ùÌïú Ìï®ÏàòÎäî &lt;code>event&lt;/code>ÏôÄ &lt;code>node&lt;/code> Í∞ùÏ≤¥Î•º Îß§Í∞úÎ≥ÄÏàòÎ°ú Í∞ÄÏßëÎãàÎã§. &lt;code>node&lt;/code>Ïùò ÌòÑÏû¨ ÏúÑÏπò &lt;code>x&lt;/code>, &lt;code>y&lt;/code> Ï¢åÌëúÎ°ú Ïù¥Îèô Î∞è ÌôïÎåÄÌï¥Ïïº ÌïòÎØÄÎ°ú Ïù¥Î•º Ïù¥Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÏÇ¨Ïö©ÏûêÏùò Ï°∞ÏûëÏù¥ ÏïÑÎãå ÏΩîÎìúÎ•º ÌÜµÌï¥ ÌäπÏ†ï Ï¢åÌëúÎ°ú Ïù¥ÎèôÌïòÍ≥† ÌôïÎåÄÌïòÍ∏∞ ÏúÑÌï¥ÏÑ† &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom#zoom_translateTo"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>zoom.translateTo&lt;/code>&lt;/a
>
ÏôÄ &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom#zoom_scaleTo"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>zoom.scaleTo&lt;/code>&lt;/a
>
Ìï®ÏàòÎ•º Ïù¥Ïö©Ìï©ÎãàÎã§. Ìï¥Îãπ Ìï®ÏàòÎäî Ï≤´ Î≤àÏß∏ Ïù∏ÏûêÎ°ú &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Ï†ÑÎã¨Î∞õÏúºÎØÄÎ°ú &lt;code>selection.call()&lt;/code> Ìï®ÏàòÎ°ú Ìò∏Ï∂úÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">circles.on('click', (_, { x, y }) =&amp;gt; {
root
.transition()
.duration(500)
.call(zoom.translateTo, x, y)
.transition()
.call(zoom.scaleTo, 3);
});
&lt;/code>&lt;/pre>
&lt;p>&lt;code>circles&lt;/code> ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÌÅ¥Î¶≠Ìïú &lt;code>circle&lt;/code>Ïùò &lt;code>x&lt;/code>, &lt;code>y&lt;/code> Ï¢åÌëúÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§. Í∑∏Î¶¨Í≥† &lt;code>zoom.translateTo&lt;/code>ÏôÄ &lt;code>zoom.scaleTo&lt;/code>Í∞Ä &lt;code>root&lt;/code> ÏöîÏÜåÏùò zoom ÏÉÅÌÉúÎ•º Î≥ÄÍ≤ΩÌï©ÎãàÎã§. &lt;code>transition&lt;/code>Í≥º &lt;code>duration&lt;/code>ÏùÄ zoomÏù¥ Ïù¥ÎèôÌï† Îïå transition Ìö®Í≥ºÎ•º Ï£ºÏñ¥ Î≥¥Îã§ ÏûêÏó∞Ïä§Îü¨Ïö¥ ÏõÄÏßÅÏûÑÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="d3-drag">d3-drag&lt;/h2>
&lt;p>d3-dragÎäî ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌïòÏó¨ ÎìúÎûòÍ∑∏ÌïòÎäî Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;h3 id="dragging">Dragging&lt;/h3>
&lt;p>d3-drag ÎòêÌïú d3-selectionÏóê Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. &lt;code>d3.drag()&lt;/code> Ìï®ÏàòÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Ïù∏ÏûêÎ°ú Î∞õÎäî Ìï®ÏàòÎ•º ÏÉùÏÑ±ÌïòÏó¨ Î∞òÌôòÌï©ÎãàÎã§. Ï∂îÍ∞ÄÎ°ú, ÎìúÎûòÍ∑∏ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú ÌïÑÏöîÌïú ÏÑ∏ Í∞ÄÏßÄ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const drag = d3
.drag()
.on(&amp;quot;start&amp;quot;, (event, node) =&amp;gt; {
console.log('Drag Start!');
})
.on(&amp;quot;drag&amp;quot;, (event, node) =&amp;gt; {
console.log('Dragging!');
})
.on(&amp;quot;end&amp;quot;, (event, node) =&amp;gt; {
console.log('Drag End!');
});
circles.call(drag);
&lt;/code>&lt;/pre>
&lt;p>ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌïòÎ©¥ &lt;code>start&lt;/code> Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÌïòÍ≥†, ÌÅ¥Î¶≠ ÌõÑ ÎìúÎûòÍ∑∏ÌïòÎ©¥ &lt;code>drag&lt;/code> Ïù¥Î≤§Ìä∏ Í∑∏Î¶¨Í≥† ÌÅ¥Î¶≠ÏùÑ ÎñºÎ©¥ &lt;code>end&lt;/code> Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÌï©ÎãàÎã§. Ïù¥Î≤§Ìä∏Ïóê Îì±Î°ùÌïú Î™®Îì† Ìï®ÏàòÎäî ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Í∞ùÏ≤¥ÏôÄ ÌÅ¥Î¶≠Ìïú ÏöîÏÜåÏùò Ï†ïÎ≥¥Î•º Îß§Í∞úÎ≥ÄÏàòÎ°ú Í∞ÄÏßëÎãàÎã§.&lt;/p>
&lt;p>ÏöîÏÜåÎ•º ÌÅ¥Î¶≠ÌïòÏó¨ ÎìúÎûòÍ∑∏Ìï† Îïå simulationÏùÄ Í≥ÑÏÜç Ïã§Ìñâ Ï§ëÏù∏ ÏÉÅÌÉúÏó¨Ïïº Ìï©ÎãàÎã§. d3-force ÏãúÎ¶¨Ï¶àÏóêÏÑú Ïñ∏Í∏âÌïú ÎÇ¥Ïö©ÏúºÎ°ú simulationÏùÑ Ï¢ÖÎ£åÌïòÏßÄ ÏïäÍ≥† Í≥ÑÏÜç Ïã§ÌñâÌïòÎ†§Î©¥ &lt;code>alphaTarget&lt;/code>ÏùÑ Ïù¥Ïö©Ìï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÎòêÌïú, ÏöîÏÜåÍ∞Ä Îã§Î•∏ ÏöîÏÜåÏôÄ ÏÉÅÍ¥ÄÏóÜÏù¥ &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#simulation_nodes"
target="_blank" rel="noopener noreferrer nofollow"
>ÌäπÏ†ï Í≥†Ï†ï Ï¢åÌëúÏóê ÏúÑÏπòÌïòÎèÑÎ°ù ÌïòÎ†§Î©¥ &lt;code>fx&lt;/code>ÏôÄ &lt;code>fy&lt;/code> Í∞íÏùÑ ÏÑ§Ï†ï&lt;/a
>
Ìï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const drag = d3
.drag()
.on('start', (event, node) =&amp;gt; {
nodeGroup.style('cursor', 'grabbing');
simulation.alphaTarget(0.1).restart();
})
.on('drag', (event, node) =&amp;gt; {
node.fx = event.x;
node.fy = event.y;
})
.on('end', (event, node) =&amp;gt; {
nodeGroup.style('cursor', 'grab');
simulation.alphaTarget(0);
node.fx = null;
node.fy = null;
});
circles.call(drag);
&lt;/code>&lt;/pre>
&lt;p>ÌÅ¥Î¶≠Ìï† Îïå &lt;code>alphaTarget&lt;/code>ÏùÑ &lt;code>alphaMin&lt;/code>Î≥¥Îã§ ÌÅ¨Í≤å ÏÑ§Ï†ïÌïòÏó¨ simulationÏù¥ Ï†àÎåÄ Ï¢ÖÎ£åÎêòÏßÄ ÏïäÎèÑÎ°ù Ìï©ÎãàÎã§. &lt;code>alphaTarget&lt;/code> Í∞íÏù¥ ÌÅ¥ÏàòÎ°ù Îã§Î•∏ ÏöîÏÜåÏùò ÏõÄÏßÅÏûÑÏù¥ Ïª§ÏßëÎãàÎã§. ÌÅ¥Î¶≠ÏùÑ Ï¢ÖÎ£åÌïòÎ©¥ Îã§Ïãú ÎêòÎèåÎ†§ÎÜìÏäµÎãàÎã§.&lt;/p>
&lt;p>ÌÅ¥Î¶≠ÌïòÏó¨ ÎìúÎûòÍ∑∏Î•º ÏãúÏûëÌïòÎ©¥ &lt;code>fx&lt;/code>ÏôÄ &lt;code>fy&lt;/code> Í∞íÏùÑ ÌòÑÏû¨ ÎßàÏö∞Ïä§Ïùò ÏúÑÏπòÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§. ÌÅ¥Î¶≠ÏùÑ Ï¢ÖÎ£åÌïòÎ©¥ &lt;code>null&lt;/code>Î°ú ÏÑ§Ï†ïÌïòÏó¨ Í≥†Ï†ï ÏúÑÏπòÎ•º Ï†úÍ±∞Ìï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="impl">Impl.&lt;/h2>
&lt;p>d3-zoomÍ≥º d3-dragÎ•º Ï∂îÍ∞ÄÌï¥Î≥¥ÏïòÏäµÎãàÎã§. &lt;code>Network&lt;/code> classÎ•º ÏûëÏÑ±ÌïòÏó¨ ÏΩîÎìúÎ•º Ï†ïÎ¶¨ÌñàÍ≥† Ïã§ÏãúÍ∞ÑÏúºÎ°ú &lt;code>alpha&lt;/code>ÏôÄ &lt;code>zoom&lt;/code> ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÍ≥† Ï†úÏñ¥Ìï† Ïàò ÏûàÎèÑÎ°ù Íµ¨ÌòÑÌïòÏòÄÏäµÎãàÎã§. &lt;code>nodes&lt;/code>ÏôÄ &lt;code>links&lt;/code>Î•º Ï∂îÍ∞ÄÌï† Ïàò ÏûàÎèÑÎ°ù Íµ¨ÌòÑÌïòÏòÄÏäµÎãàÎã§. ÎπÑÏñ¥ÏûàÎäî Ï±ÑÎ°ú &lt;code>ADD&lt;/code>Î•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÏÉàÎ°úÏö¥ ÏöîÏÜåÍ∞Ä ÏûÑÏùòÏùò ÏöîÏÜåÏóê Ïó∞Í≤∞Îê©ÎãàÎã§. Í∑∏Î¶¨Í≥† &lt;code>node&lt;/code>Ïùò ÏïÑÏù¥ÎîîÎ•º DOMÏóê Í∑∏Î†§ &lt;code>node&lt;/code>Ïùò Îç∞Ïù¥ÌÑ∞Î•º Ïñ¥ÎñªÍ≤å DOMÏóê Ï†ÅÏö©Ìï† Ïàò ÏûàÎäîÏßÄ Î≥¥Ïó¨Ï§¨ÏäµÎãàÎã§.&lt;/p>
&lt;p class="codepen" data-height="600" data-default-tab="result" data-slug-hash="mdpoWxa" data-user="jinyongp" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
&lt;span>See the Pen &lt;a href="https://codepen.io/jinyongp/pen/mdpoWxa">
D3 Force, Zoom, Drag (w/ SVG)&lt;/a> by Park, Jinyong (&lt;a href="https://codepen.io/jinyongp">@jinyongp&lt;/a>)
on &lt;a href="https://codepen.io">CodePen&lt;/a>.&lt;/span>
&lt;/p>
&lt;script async src="https://cpwebassets.codepen.io/assets/embed/ei.js">&lt;/script>
&lt;hr>
&lt;h2 id="conclusion">Conclusion&lt;/h2>
&lt;p>d3-zoomÍ≥º d3-dragÎ•º Í∏∞Ï°¥ ÌîÑÎ°úÏ†ùÌä∏Ïóê Ïó∞Í≤∞ÌïòÎäî ÏΩîÎìúÎ•º ÏûëÏÑ±Ìï¥Î≥¥Î©¥ÏÑú Í∞úÎÖêÍ≥º Íµ¨ÌòÑ Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥ÏïòÏäµÎãàÎã§. Ïó¨Í∏∞ÏÑú ÏÇ¨Ïö©Ìï¥Î≥∏ Í∏∞Îä• ÎßêÍ≥†ÎèÑ d3Îäî Ï†ïÎßê ÎßéÏùÄ Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. Í≥µÏãù Î¨∏ÏÑúÏóê ÏòàÏãúÍ∞Ä ÏÇ¥Ïßù ÏïÑÏâΩÍ∏¥ ÌïòÏßÄÎßå, ÏßÅÏ†ë ÏÇ¨Ïö©Ìï¥Î≥¥Î©¥ÏÑú Í∑∏ Ïú†Ìã∏ÏÑ±ÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏïòÏúºÎ©¥ Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>ADD&lt;/code> Î≤ÑÌäºÏùÑ ÎàåÎü¨ Í≥ÑÏÜç ÏöîÏÜåÎ•º Ï∂îÍ∞ÄÌïòÎã§Î≥¥Î©¥ Ï†êÏ†ê ÌîÑÎ†àÏûÑÏù¥ Îñ®Ïñ¥ÏßÄÎ©¥ÏÑú ÏÑ±Îä•Ïù¥ ÌïòÎùΩÌïòÎäî Î™®ÏäµÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§. Ïù¥ Î¨∏Ï†úÎäî HTML5 Canvas APIÍ∞Ä Ìï¥Í≤∞Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÌóàÎÇò, Ïù¥ Î∞©Î≤ïÎèÑ Í∑∏Î¶¨Í∏∞Ïóî Ïâ¨Ïö∏ÏßÄ Î™∞ÎùºÎèÑ Ïò§Îäò Ï†ÅÏö©Ìïú zoomÍ≥º drag Í∏∞Îä•ÏùÑ Ï∂îÍ∞ÄÌïòÎäîÎç∞Ïóî Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏäµÎãàÎã§. Îã§Ïùå ÏãúÎ¶¨Ï¶àÎäî ÏßÄÍ∏àÍπåÏßÄ Íµ¨ÌòÑÌïú ÎÇ¥Ïö©ÏùÑ Canvas APIÎ°ú Î¶¨Ìå©ÌÜ†ÎßÅÌïòÎ©¥ÏÑú Ï†ÑÎ∂Ä ÏïåÏïÑÎ≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-zoom"
target="_blank" rel="noopener noreferrer nofollow"
>d3-zoom&lt;/a
>
&lt;/li>
&lt;li>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-drag"
target="_blank" rel="noopener noreferrer nofollow"
>d3-drag&lt;/a
>
&lt;/li>
&lt;li>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-transition"
target="_blank" rel="noopener noreferrer nofollow"
>d3-transition&lt;/a
>
&lt;/li>
&lt;/ul></description></item><item><title>Data Driven Transformation of DOM</title><link>https://jinyongp.dev/posts/d3js/2/</link><pubDate>Sat, Apr 16 02:47:11 2022 +0000</pubDate><author>dev.jinyongp@gmail.com (Jinyong Park)</author><guid>https://jinyongp.dev/posts/d3js/2/</guid><description>&lt;h1 id="introduction">Introduction&lt;/h1>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-selection"
target="_blank" rel="noopener noreferrer nofollow"
>d3-selection&lt;/a
>
ÏùÄ Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú DOMÏùÑ Ï°∞ÏûëÌï† Ïàò ÏûàÎäî Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î≤à ÏãúÎ¶¨Ï¶àÎäî d3-forceÏôÄ Ïó∞Í≥ÑÌïòÏó¨ Github Follower, Following Í¥ÄÍ≥ÑÎßù Í∑∏Î¶¨Í∏∞Î•º Î™©ÌëúÎ°ú ÌïòÍ≥† ÏûàÏúºÎØÄÎ°ú Íµ¨ÌòÑ Í≥ºÏ†ïÏóêÏÑú ÌïÑÏöîÌïú Î∂ÄÎ∂ÑÏóê ÎåÄÌï¥ÏÑúÎßå Îã§Î£®ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Îì§Ïñ¥Í∞ÄÍ∏∞ Ï†ÑÏóê &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ¥ÖÏãúÎã§. d3-selectionÏúºÎ°ú ÏÑ†ÌÉùÌïú ÏöîÏÜåÎäî &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-selection/blob/main/src/selection/index.js"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>groups&lt;/code>ÏôÄ &lt;code>parents&lt;/code> propertyÎ•º Í∞ñÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥&lt;/a
>
Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§. &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Îäî ÏÑ†ÌÉùÌïú ÏöîÏÜåÎ•º Ï†úÏñ¥Ìï† Ïàò ÏûàÎäî Îã§ÏñëÌïú Î©îÏÑúÎìúÎ•º Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>ÏöîÏÜå ÏÑ†ÌÉù: selection, select, selectAll, selectChild, selectChildren, filter, merge&lt;/li>
&lt;li>ÏöîÏÜå Î≥ÄÍ≤Ω: attr, classed, style, property, text, html, append, insert, remove, clone, sort, order, raise, lower&lt;/li>
&lt;li>Îç∞Ïù¥ÌÑ∞ Ïó∞Í≤∞: data, join, enter, exit, datum&lt;/li>
&lt;li>Ïù¥Î≤§Ìä∏ Ìï∏Îì§ÎßÅ: on, dispatch&lt;/li>
&lt;li>Ï†úÏñ¥ ÌùêÎ¶Ñ: each, call, empty, nodes, size, [Symbol.iterator]()&lt;/li>
&lt;/ul>
&lt;p>d3-selectionÏùÑ Ïù¥Ïö©ÌïòÏó¨ ÏÑ†ÌÉùÌïú ÏöîÏÜåÏóê Îç∞Ïù¥ÌÑ∞Î•º Ïó∞Í≤∞ÌïòÍ≥† Í∑∏ Îç∞Ïù¥ÌÑ∞Î•º Í∏∞Î∞òÏúºÎ°ú ÏöîÏÜåÎ•º Ï†úÏñ¥Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Ï†ú ÏΩîÎìúÏôÄ Ìï®Íªò d3-selectionÏùÑ Ïù¥Ïö©ÌïòÏó¨ Í∞ÑÎã®Ìïú Í∑∏ÎûòÌîÑÎ•º Í∑∏Î†§Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="creating-and-editing">Creating and Editing&lt;/h2>
&lt;p>Í¥ÄÍ≥ÑÎßùÏóê ÏÇ¨Ïö©Ìï† &lt;code>nodes&lt;/code>ÏôÄ &lt;code>links&lt;/code>Î•º Î∏åÎùºÏö∞Ï†ÄÏóê Í∑∏Î†§Ï£ºÍ∏∞ ÏúÑÌï¥ d3-selectionÏúºÎ°ú &lt;code>svg&lt;/code>Î•º ÏÉùÏÑ±ÌïòÍ≥† ÌÅ¨Í∏∞Î•º ÏÑ§Ï†ïÌï¥Ï§çÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const root = d3
.select('body') // === d3.select(document.body)
.append('svg')
.attr('width', '100%')
.attr('height', '100%')
.style('display', 'block');
&lt;/code>&lt;/pre>
&lt;p>&lt;code>body&lt;/code> ÏöîÏÜåÎ•º ÏÑ†ÌÉùÌïòÍ≥† ÌïòÏúÑÏóê &lt;code>svg&lt;/code> ÏöîÏÜåÎ•º Ï∂îÍ∞ÄÌñàÏäµÎãàÎã§. Í∑∏Î¶¨Í≥† &lt;code>attr&lt;/code> Î©îÏÑúÎìúÏôÄ &lt;code>style&lt;/code> Î©îÏÑúÎìúÎ°ú &lt;code>svg&lt;/code>Ïùò ÏÜçÏÑ±Í≥º Ïä§ÌÉÄÏùºÏùÑ ÏßÄÏ†ïÌñàÏäµÎãàÎã§. &lt;code>root&lt;/code>Ïóî &lt;code>svg&lt;/code> ÏöîÏÜåÎ•º Îã¥Í≥† ÏûàÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Í∞Ä Ìï†ÎãπÎê©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>root&lt;/code> ÏïÑÎûò &lt;code>links&lt;/code>ÏôÄ &lt;code>nodes&lt;/code>Î•º Í∞ÅÍ∞Å Î¨∂ÏùÑ &lt;code>g&lt;/code> ÏöîÏÜåÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§. (&lt;code>linkGroup&lt;/code>ÏùÑ Î®ºÏ†Ä ÏÉùÏÑ±Ìï¥Ïïº Îí§Ïóê Î∞∞ÏπòÎê©ÎãàÎã§.)&lt;/p>
&lt;pre>&lt;code class="language-js">const linkGroup = root.append('g').attr('id', 'links');
const nodeGroup = root.append('g').attr('id', 'nodes');
&lt;/code>&lt;/pre>
&lt;p>&lt;code>id&lt;/code>Îäî Î≥Ñ Îã§Î•∏ Ïó≠Ìï† ÏóÜÏù¥ ÏãùÎ≥ÑÏùÑ ÏúÑÌï¥ Ï∂îÍ∞ÄÌï¥Ï£ºÏóàÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="joining-data">Joining Data&lt;/h2>
&lt;p>Ïù¥Ï†ú DOM ÏöîÏÜåÏóê Îç∞Ïù¥ÌÑ∞Î•º Ïó∞Í≤∞Ìï¥Î¥ÖÏãúÎã§. &lt;code>nodeGroup&lt;/code> ÏïÑÎûò &lt;code>circle&lt;/code>ÏùÑ Î∞∞ÏπòÌïòÍ≥† &lt;code>nodes&lt;/code> Îç∞Ïù¥ÌÑ∞Î•º Ïó∞Í≤∞Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const circles = nodeGroup
.selectAll('circle')
.data(nodes)
.join('circle')
.attr('r', 5)
.attr('fill', 'blue');
&lt;/code>&lt;/pre>
&lt;p>ÏñºÌïè Î≥¥Î©¥ ÎßêÏù¥ ÎêòÎäî ÎìØÌïòÏßÄÎßå ÏïÑÏßÅ ÏÉùÏÑ±ÎèÑ ÌïòÏßÄ ÏïäÏùÄ &lt;code>circle&lt;/code>ÏùÑ Ïôú ÏÑ†ÌÉùÌïòÍ≥† ÏûàÎäîÏßÄ ÏùòÎ¨∏Ïù¥ ÏÉùÍπÅÎãàÎã§. Í∞Å Îã®Í≥ÑÍ∞Ä ÏÉùÏÑ±ÌïòÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Î≥¥Í≥† ÌùêÎ¶ÑÏùÑ Ïù¥Ìï¥Ìï¥Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>&lt;code>nodeGroup.selectAll('circle')&lt;/code>ÏùÄ ÎãπÏó∞Ìûà Îπà &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Î∞òÌôòÌï©ÎãàÎã§.&lt;/p>
&lt;blockquote>
&lt;p>üí° ÎãπÏó∞Ìûà ÎπÑÏñ¥ÏûàÎäî &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Î•º Î∞õÏùÑÍ±¥Îç∞ Ïôú &lt;code>selectAll&lt;/code>ÏùÑ Ïì∏ÍπåÏöî?&lt;/p>
&lt;p>Ïù¥ÌõÑÏóê &lt;code>nodes&lt;/code>Î•º Ï∂îÍ∞ÄÌï¥Ïïº Ìï† ÏÉÅÌô©Ïù¥ ÏÉùÍ∏¥Îã§Î©¥, Í∏∞Ï°¥Ïóê ÏÉùÏÑ±ÎêòÏóàÎçò &lt;code>circle&lt;/code> ÏöîÏÜåÏôÄ &lt;code>nodes&lt;/code>Î•º ÎπÑÍµêÌïòÏó¨ Ï∂îÍ∞ÄÎêú &lt;code>node&lt;/code>Ïùò Í∞úÏàòÎßåÌÅº &lt;code>circle&lt;/code> ÏöîÏÜåÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§. Ï¶â, ÎπÑÍµêÎ•º ÏúÑÌï¥ ÏÑ†ÌÉùÌïòÎäî ÏöîÏÜåÏôÄ ÏÉùÏÑ±ÌïòÎäî ÏöîÏÜåÎäî ÎèôÏùºÌï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;/blockquote>
&lt;pre>&lt;code class="language-js">_groups: [NodeList(0)]
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;p>&lt;code>.data(nodes)&lt;/code>Îäî Îπà &lt;code>Selection&lt;/code> Í∞ùÏ≤¥Ïóê &lt;code>nodes&lt;/code> Î∞∞Ïó¥Ïùò Í∏∏Ïù¥ÎßåÌÅº Ïó∞Í≤∞Ìï©ÎãàÎã§. &lt;code>jt&lt;/code> Í∞ùÏ≤¥Îäî &lt;code>__data__&lt;/code> propertyÏóê &lt;code>node&lt;/code> Ï†ïÎ≥¥Î•º Í∞ñÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">_enter: [Array(5)]
0: (5) [jt, jt, jt, jt, jt]
_exit: [Array(0)]
0: []
_groups: [Array(5)]
0: (5) [empty √ó 5]
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-js">_enter: Array(1)
0: Array(5)
0: jt {...}
1: jt {...}
2: jt {...}
3: jt {...}
4: jt
namespaceURI: &amp;quot;http://www.w3.org/2000/svg&amp;quot;
ownerDocument: document
__data__: {id: 5, index: 4, x:...}
_exit: [Array(0)]
_groups: [Array(5)]
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;p>&lt;code>.join('circle')&lt;/code>ÏùÄ &lt;code>.enter().append('circle')&lt;/code>Í≥º ÎèôÏùºÌïú Îã®Ï∂ï ÌëúÌòÑÏûÖÎãàÎã§. &lt;code>.enter()&lt;/code>ÍπåÏßÄ Ïã§ÌñâÌïú Í≤∞Í≥ºÎäî ÏïÑÎûòÏôÄ Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">_groups: Array(1)
0: (5) [jt, jt, jt, jt, jt]
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;pre>&lt;code class="language-js">_groups: Array(1)
0: Array(5)
0: jt {ownerDocument: document, namespaceURI: 'http://www.w3.org/2000/svg', ...}
1: jt {ownerDocument: document, namespaceURI: 'http://www.w3.org/2000/svg', ...}
2: jt {ownerDocument: document, namespaceURI: 'http://www.w3.org/2000/svg', ...}
3: jt {ownerDocument: document, namespaceURI: 'http://www.w3.org/2000/svg', ...}
4: jt
namespaceURI: &amp;quot;http://www.w3.org/2000/svg&amp;quot;
ownerDocument: document
__data__: {id: 5, index: 4, x: ...}
...
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;p>&lt;code>enter().append('circle')&lt;/code>ÍπåÏßÄ Ïã§ÌñâÌïú Í≤∞Í≥ºÎäî ÏïÑÎûòÏôÄ Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">_groups: Array(1)
0: Array(5)
0: circle
1: circle
2: circle
3: circle
4: circle
__data__: {id: 5, index: 4, x:...}
...
_parents: [g#nodes]
&lt;/code>&lt;/pre>
&lt;p>&lt;code>circle&lt;/code> ÏöîÏÜåÍ∞Ä Ïó∞Í≤∞ÎêòÏóàÍ≥† &lt;code>circle&lt;/code> ÎÇ¥Î∂ÄÏóê &lt;code>__data__&lt;/code>Í∞Ä Í≤∞Ìï©ÎêòÏóàÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="impl">Impl.&lt;/h2>
&lt;p>&lt;code>ticked&lt;/code> Ìï®Ïàò ÎÇ¥Î∂ÄÏóêÏÑú DOM ÏöîÏÜåÏôÄ Í≤∞Ìï©Ìïú &lt;code>node&lt;/code> Í∞ùÏ≤¥Ïùò &lt;code>x&lt;/code>, &lt;code>y&lt;/code> Ï¢åÌëú Îç∞Ïù¥ÌÑ∞Î•º Ïù¥Ïö©Ìï¥ ÏöîÏÜåÎ•º ÌôîÎ©¥ ÏÉÅÏóê Í∑∏Î†§Î≥¥ÏïòÏäµÎãàÎã§.&lt;/p>
&lt;p class="codepen" data-height="600" data-default-tab="result" data-slug-hash="MWrxgPB" data-user="jinyongp" style="height: 600px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
&lt;span>See the Pen &lt;a href="https://codepen.io/jinyongp/pen/MWrxgPB">
D3 Force (w/ SVG)&lt;/a> by Park, Jinyong (&lt;a href="https://codepen.io/jinyongp">@jinyongp&lt;/a>)
on &lt;a href="https://codepen.io">CodePen&lt;/a>.&lt;/span>
&lt;/p>
&lt;script async src="https://cpwebassets.codepen.io/assets/embed/ei.js">&lt;/script>
&lt;hr>
&lt;h2 id="conclusion">Conclusion&lt;/h2>
&lt;p>d3-selectionÏùò Í∞úÎÖêÍ≥º Îç∞Ïù¥ÌÑ∞ Í≤∞Ìï© Î∞©Î≤ïÍ≥º ÌùêÎ¶ÑÏóê ÎåÄÌï¥ ÏÇ¥Ìé¥Î≥¥ÏïòÏäµÎãàÎã§. Ï†ÄÎ≤àÍ≥º Îã¨Î¶¨ ÎßéÏùÄ Í∞úÎÖêÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥ÏßÑ ÏïäÏïòÏßÄÎßå, ÏöîÏÜåÎ•º ÏÑ†ÌÉùÌïòÍ≥† ÏÜçÏÑ±ÏùÑ Î≥ÄÍ≤ΩÌïòÍ≥† Îç∞Ïù¥ÌÑ∞Î•º Í≤∞Ìï©ÌïòÎäî Ï†ïÎßê ÌïÑÏöîÌïú ÎÇ¥Ïö©Îßå Îã§Î£®Î©¥ÏÑú d3-forceÏôÄ Ïó∞ÎèôÌïòÏó¨ Í∞ÑÎã®Ìïú Í∑∏ÎûòÌîÑÎ•º Í∑∏Î†§Î≥º Ïàò ÏûàÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>node&lt;/code>Ïùò Îç∞Ïù¥ÌÑ∞Í∞Ä ÎßéÏïÑÏßàÏàòÎ°ù d3-selectionÏùÑ ÎçîÏö± Ï†ÅÍ∑πÏ†ÅÏúºÎ°ú Ïù¥Ïö©Ìï† ÏòàÏ†ïÏù¥ÎØÄÎ°ú, Í∑∏ ÎïåÎ•º ÏúÑÌï¥ Ïù¥Î≤àÏóî Ïù¥ Ï†ïÎèÑÎ°ú ÌïòÍ≥† Îã§Ïùå ÏãúÎ¶¨Ï¶àÏóêÏÑ† d3-zoomÍ≥º d3-dragÎ•º Ïù¥Ïö©ÌïòÏó¨ ÏÉÅÌò∏ÏûëÏö©ÌïòÎäî Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-selection"
target="_blank" rel="noopener noreferrer nofollow"
>d3-selection&lt;/a
>
&lt;/li>
&lt;li>&lt;a
class="underline-lsre"
href="https://bost.ocks.org/mike/join/"
target="_blank" rel="noopener noreferrer nofollow"
>Thinking with Joins&lt;/a
>
&lt;/li>
&lt;li>&lt;a
class="underline-lsre"
href="https://lucidar.me/en/d3.js/part-07-data-binding"
target="_blank" rel="noopener noreferrer nofollow"
>D3.js Tutorial - Data Binding&lt;/a
>
&lt;/li>
&lt;/ul></description></item><item><title>D3.js Network Simulation In Depth</title><link>https://jinyongp.dev/series/d3js/1/</link><pubDate>Thu, Apr 14 14:31:09 2022 +0000</pubDate><author>dev.jinyongp@gmail.com (Jinyong Park)</author><guid>https://jinyongp.dev/series/d3js/1/</guid><description>&lt;p>ÏõêÌã∞Îìú ÌîÑÎ¶¨Ïò®Î≥¥Îî©ÏóêÏÑú Ï£ºÏñ¥ÏßÑ Í≥ºÏ†ú Ï§ë ÌïòÎÇòÏù∏ &lt;a
class="underline-lsre"
href="https://github.com/Pre-Onboarding-FE-Team07/wanted-codestates-project-7-7-2"
target="_blank" rel="noopener noreferrer nofollow"
>D3.jsÎ•º Ïù¥Ïö©Ìïú Github Starred Repo Í¥ÄÍ≥ÑÎßù Í∑∏Î¶¨Í∏∞ ÌîÑÎ°úÏ†ùÌä∏&lt;/a
>
Î•º ÏßÑÌñâÌïòÎ©¥ÏÑú d3.jsÏóê ÌÅ∞ Ìù•ÎØ∏Î•º Í∞ÄÏßÄÍ≤å ÎêòÏóàÏäµÎãàÎã§. Ï≤òÏùå Îã§Î§ÑÎ≥¥Îäî ÏãúÍ∞ÅÌôî ÎùºÏù¥Î∏åÎü¨Î¶¨Ïù¥Îùº Í∏∞Îä• ÌïòÎÇòÎ•º Ï∂îÍ∞ÄÌï† ÎïåÎßàÎã§ ÎßéÏùÄ ÏûêÎ£åÏôÄ Î¨∏ÏÑúÎ•º Ï∞æÏïÑÎ¥êÏïº ÌñàÏäµÎãàÎã§. Ïñ¥Ï∞åÏñ¥Ï∞åÌïòÍ∏¥ Ìï¥ÎÇ¥Í∏¥ ÌñàÏßÄÎßå ÏΩîÎìúÏôÄ ÎèôÏûëÏùÑ Î≥¥Î©∞ ÎäêÍª¥ÏßÄÎäî Î∂ÄÏ°±Ìï®Ïóê ÏïÑÏâ¨ÏõÄÏù¥ ÏÉùÍ≤ºÏäµÎãàÎã§. ÏïÑÎ¨¥ÎûòÎèÑ ÏßßÏùÄ ÏãúÍ∞Ñ ÎÇ¥Ïóê Íµ¨ÌòÑÌï¥ÎÇ¥ÎäêÎùº Ïù¥Ìï¥ÌïòÎäîÎç∞ Ïñ¥Î†§ÏõÄÏù¥ ÏûàÏóàÍ∏∞ ÎïåÎ¨∏Ïóê, Í∑∏ Ïñ¥Î†§ÏõÄÏùÑ Í∑πÎ≥µÌïòÍ≥†Ïûê Î¨∏ÏÑúÎ•º ÌÜ∫ÏïÑÎ≥¥Î©∞ ÏÇ¥Ìé¥Î≥¥Í≥† Ï†ïÎ¶¨Ìï¥Î≥¥Í≥†Ïûê Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÏÇ¨Ïö©ÌïòÎäî ÎùºÏù¥Î∏åÎü¨Î¶¨Îäî &lt;a
class="underline-lsre"
href="https://github.com/d3/d3"
target="_blank" rel="noopener noreferrer nofollow"
>d3.js&lt;/a
>
ÏûÖÎãàÎã§. d3Í∞Ä Í∞ÄÏßÑ ÏàòÎßéÏùÄ ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï§ëÏóêÏÑúÎèÑ &lt;code>d3-force&lt;/code>, &lt;code>d3-zoom&lt;/code>, &lt;code>d3-selection&lt;/code>, &lt;code>d3-drag&lt;/code> Îì± Ï∂îÍ∞ÄÎ°ú ÌïÑÏöîÌïú Î™®ÎìàÏù¥ÎùºÎ©¥ Ï†ÑÎ∂Ä ÌôúÏö©Ìï¥Î≥º ÏòàÏ†ïÏù¥Í≥† ÏÑ±Îä• Ìñ•ÏÉÅÏùÑ ÏúÑÌï¥ Canvas APIÎ°ú Íµ¨ÌòÑÌï¥Î≥¥Î†§Í≥† Ìï©ÎãàÎã§.&lt;/p></description></item><item><title>Simulating Physical Forces</title><link>https://jinyongp.dev/posts/d3js/1/</link><pubDate>Thu, Apr 14 14:20:46 2022 +0000</pubDate><author>dev.jinyongp@gmail.com (Jinyong Park)</author><guid>https://jinyongp.dev/posts/d3js/1/</guid><description>&lt;h1 id="introduction">Introduction&lt;/h1>
&lt;p>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force"
target="_blank" rel="noopener noreferrer nofollow"
>d3-force&lt;/a
>
Îäî ÏûÖÏûê(&lt;code>nodes&lt;/code>) Í∞ÑÏóê Í∞ÄÌï¥ÏßÄÎäî Î¨ºÎ¶¨Ï†Å Ìûò(forces)ÏùÑ simulationÌïòÏó¨ ÏûÖÏûêÏùò Ï¢åÌëúÍ∞íÏùÑ Í≥ÑÏÇ∞ÌïòÍ≥† Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;p>ÏΩîÎìúÏôÄ Ìï®Íªò &lt;a
class="underline-lsre"
href="#simulation"
>Simulation&lt;/a
>
Í≥º &lt;a
class="underline-lsre"
href="#forces"
>Forces&lt;/a
>
Ïóê ÎåÄÌï¥ Ïù¥Ìï¥Ìï¥Î¥ÖÏãúÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="simulationhttpsgithubcomd3d3-forcesimulation">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#simulation"
target="_blank" rel="noopener noreferrer nofollow"
>Simulation&lt;/a
>
&lt;/h2>
&lt;p>SimulationÏùÄ &lt;code>nodes&lt;/code>Ïóê Í∞ÄÌï¥ÏßÄÎäî Î¨ºÎ¶¨Ï†Å ÌûòÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§. &lt;code>d3.forceSimulation()&lt;/code> Ìï®ÏàòÎ°ú simulationÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const simulation = d3.forceSimulation();
&lt;/code>&lt;/pre>
&lt;p>SimulationÏóê Í∑∏ÎûòÌîÑÏùò Ï†ïÏ†ê Î™©Î°ùÏù∏ &lt;code>nodes&lt;/code>ÏôÄ Í∞ÑÏÑ† Î™©Î°ùÏù∏ &lt;code>links&lt;/code>Î•º Îì±Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="nodes">Nodes&lt;/h3>
&lt;p>Î®ºÏ†Ä &lt;code>nodes&lt;/code>Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ¥ÖÏãúÎã§. SimulationÏùÄ ÏûÖÎ†•Ìïú &lt;code>node&lt;/code> Í∞ùÏ≤¥Ïóê Í≥ÑÏÇ∞ Í≤∞Í≥ºÍ∞íÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§. &lt;code>nodes&lt;/code> Î∞∞Ïó¥ÏóêÏÑú Í∞Å &lt;code>node&lt;/code>Î•º Ïù∏Îç±Ïä§Î°ú Í¥ÄÎ¶¨Ìï¥ÎèÑ ÎêòÏßÄÎßå, Î≥¥Í∏∞ Ïñ¥Î†§Ïö∞ÎØÄÎ°ú Í≥†Ïú† ÏãùÎ≥ÑÏûê &lt;code>id&lt;/code>Î•º Ï∂îÍ∞ÄÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const nodes = [...Array(5)].map((_, i) =&amp;gt; ({ id: i + 1 }));
// [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }, { id: 5 }]
simulation.nodes(nodes);
// nodes [
// {
// id: 1,
// index: 0,
// vx: x.xx,
// vy: x.xx,
// x: x.xx,
// y: x.xx,
// }
// , ...
// ]
&lt;/code>&lt;/pre>
&lt;p>SimulationÏùÄ &lt;code>node&lt;/code>Ïóê &lt;code>index&lt;/code>ÏôÄ Ìï®Íªò Ï¢åÌëúÍ∞íÏù∏ &lt;code>x&lt;/code>, &lt;code>y&lt;/code> Í∑∏Î¶¨Í≥† ÏÜçÎèÑÍ∞íÏù∏ &lt;code>vx&lt;/code>, &lt;code>vy&lt;/code>Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§. ÏõêÎ≥∏ &lt;code>node&lt;/code> Í∞ùÏ≤¥ ÏûêÏ≤¥Î•º ÏàòÏ†ïÌï¥ÏïºÌïòÎØÄÎ°ú &lt;a
class="underline-lsre"
href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions"
target="_blank" rel="noopener noreferrer nofollow"
>non-extensibleÌïú Í∞ùÏ≤¥&lt;/a
>
Îäî ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§. ÎßåÏïΩ Î∂àÎ≥ÄÏÑ± Ïú†ÏßÄÍ∞Ä ÌïÑÏöîÌïòÎã§Î©¥ Í∞ùÏ≤¥Î•º Î≥µÏÇ¨ÌïòÏó¨ Ï†ÑÎã¨Ìï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="links">Links&lt;/h3>
&lt;p>Í∑∏Îüº Ïù¥Ï†ú &lt;code>links&lt;/code>Î•º Îì±Î°ùÌï¥Î¥ÖÏãúÎã§. d3-forceÏóêÏÑú &lt;code>link&lt;/code> Í∞ùÏ≤¥Îäî Î∞©Ìñ•ÏÑ±ÏùÑ ÏßÄÎãå Í∞ÑÏÑ†Ïù¥ÎØÄÎ°ú &lt;code>source&lt;/code>ÏôÄ &lt;code>target&lt;/code>ÏùÑ Í∞ÄÏßÑ Í∞ùÏ≤¥Î°ú ÏÑ†Ïñ∏Ìï©ÎãàÎã§. &lt;code>nodes&lt;/code>ÏôÄ Îã¨Î¶¨ Í∞Å propertyÎäî Í∞ùÏ≤¥Í∞Ä ÏïÑÎãå &lt;code>node&lt;/code>Î•º ÏãùÎ≥ÑÌï† &lt;code>id&lt;/code>Î•º Í∞ñÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const links = [
{ source: 1, target: 4 },
{ source: 3, target: 4 },
{ source: 2, target: 5 },
{ source: 4, target: 1 },
{ source: 5, target: 4 },
];
simulation.force('link', d3.forceLink(links).id(({ id }) =&amp;gt; id));
// links [
// {
// index: 1,
// source: {
// id: 3
// index: 2
// vx: x.xx,
// vy: x.xx,
// x: x.xx,
// y: x.xx,
// },
// target: {
// ...
// },
// }, ...
// ]
&lt;/code>&lt;/pre>
&lt;p>ÎÇòÏ§ëÏóê &lt;a
class="underline-lsre"
href="#forces"
>Forces&lt;/a
>
Ï±ïÌÑ∞ÏóêÏÑú Îã§Ïãú ÎßåÎÇòÍ≤†ÏßÄÎßå, &lt;code>links&lt;/code>Îäî &lt;code>nodes&lt;/code>Ïóê ÏûëÏö©Ìï† ÌûòÏùÑ Ï†úÍ≥µÌïòÎØÄÎ°ú &lt;code>force&lt;/code>Î°ú Ï∂îÍ∞ÄÌï©ÎãàÎã§. &lt;code>links&lt;/code>Î•º simulationÏóê Ï∂îÍ∞ÄÌïòÎ©¥ &lt;code>source&lt;/code>, &lt;code>target&lt;/code>Ïóê ÏÑ§Ï†ïÎêú &lt;code>id&lt;/code>Î•º ÎèôÏùºÌïú &lt;code>id&lt;/code>Î•º Í∞ÄÏßÑ &lt;code>node&lt;/code> Í∞ùÏ≤¥Î°ú ÎåÄÏ≤¥Ìï©ÎãàÎã§. (ÏΩîÎìúÏóê ÎÇòÏôÄ ÏûàÎìØ &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#link_id"
target="_blank" rel="noopener noreferrer nofollow"
>link.id()&lt;/a
>
Ìï®ÏàòÎ°ú ÏßÄÏ†ïÌï¥Ïïº Ìï©ÎãàÎã§.)&lt;/p>
&lt;h3 id="tick">Tick&lt;/h3>
&lt;p>SimulationÏóê &lt;code>nodes&lt;/code>ÏôÄ &lt;code>links&lt;/code>Î•º Îì±Î°ùÌï¥Î¥§ÏäµÎãàÎã§. &lt;code>tick&lt;/code> Ïù¥Î≤§Ìä∏Ïóê Ìï∏Îì§Îü¨ Ìï®ÏàòÎ•º Îì±Î°ùÌïòÏó¨ Îß§ &lt;code>tick&lt;/code>ÎßàÎã§ Ïã§ÌñâÌï† ÏΩîÎìúÎ•º ÏûëÏÑ±Ìï† Ïàò ÏûàÏäµÎãàÎã§. SimulationÏùÄ ÏÉùÏÑ± ÏßÅÌõÑ Í≥ßÎ∞îÎ°ú Ïã§ÌñâÎê©ÎãàÎã§. ÌïÑÏöîÌïòÎã§Î©¥ &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#simulation_stop"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>simulation.stop()&lt;/code>&lt;/a
>
Ìï®ÏàòÎ°ú Ï†ïÏßÄÌïòÍ±∞ÎÇò &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#simulation_restart"
target="_blank" rel="noopener noreferrer nofollow"
>&lt;code>simulation.restart()&lt;/code>&lt;/a
>
Î°ú Ïû¨ÏãúÏûëÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>tick&lt;/code> Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨Î•º Îì±Î°ùÌïòÏó¨ &lt;code>node&lt;/code>Ïóê Ï†ÄÏû•Îêú Í≤∞Í≥ºÍ∞íÏùÑ ÌôïÏù∏Ìï¥Î¥ÖÏãúÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">simulation.on('tick', () =&amp;gt; {
console.log(nodes[0]);
});
// Ï≤´ Î≤àÏß∏ tick: {id: 1, index: 0, x: 5.826695986913618, y: -4.292216192303559, vy: -4.292216192303559,¬†‚Ä¶}
// Îëê Î≤àÏß∏ tick: {id: 1, index: 0, x: 4.820993020602418, y: -8.04960224695047, vy: -3.7573860546469113,¬†‚Ä¶}
// ÏÑ∏ Î≤àÏß∏ tick: {id: 1, index: 0, x: 4.188865598751164, y: -10.465829270778734, vy: -2.4162270238282635,¬†‚Ä¶}
// ÎÑ§ Î≤àÏß∏ tick: {id: 1, index: 0, x: 3.823314491169919, y: -11.82585404923582, vy: -1.3600247784570867,¬†‚Ä¶}
// ...
&lt;/code>&lt;/pre>
&lt;p>SimulationÏùÄ &lt;code>tick&lt;/code> Îã®ÏúÑÎßàÎã§ Ï¢åÌëúÍ∞íÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§. Ïö∞Î¶∞ simulationÏóê ÏùòÌï¥ &lt;code>tick&lt;/code>ÎßàÎã§ Í≥ÑÏÇ∞Îêú Ï†àÎåÄ Ï¢åÌëúÍ∞í(x, y)Î•º ÌôîÎ©¥Ïóê Í∑∏Î†§Ï£ºÍ∏∞Îßå ÌïòÎ©¥ Îê©ÎãàÎã§. Í∑∏Î¶¨Îäî Í±¥ ÎÇòÏ§ëÏóê d3-selectionÍ≥º Ìï®Íªò ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="alpha">Alpha&lt;/h3>
&lt;p>SimulationÏùÑ ÏñºÎßàÎÇò ÏßÑÌñâÌï† ÏßÄ Í≤∞Ï†ïÌïòÎäî &lt;code>alpha&lt;/code>, &lt;code>alphaMin&lt;/code>, &lt;code>alphaDecay&lt;/code>, &lt;code>alphaTarget&lt;/code>, &lt;code>velocityDecay&lt;/code> ÏÜçÏÑ±Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§. Î¨∏ÏÑúÏóê Ï£ºÏñ¥ÏßÑ &lt;code>alpha&lt;/code>Ïùò Ï†ïÏùòÎäî ÏÑ§Î™ÖÎèÑ Î∂ÄÏã§ÌïòÍ≥† Ïù¥Ìï¥ÌïòÍ∏∞ ÍΩ§ Ïñ¥Î†§Ïö∞Îãà &lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force/blob/main/src/simulation.js"
target="_blank" rel="noopener noreferrer nofollow"
>Íµ¨ÌòÑ ÏΩîÎìú&lt;/a
>
Î•º Î≥¥Î©∞ ÎèôÏûë Î∞©ÏãùÏùÑ ÏïåÏïÑÎ¥ÖÏãúÎã§. Ï£ºÏñ¥ÏßÑ ÏÜçÏÑ±Ïùò Ï¥àÍ∏∞Í∞íÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">var simulation,
alpha = 1,
alphaMin = 0.001,
alphaDecay = 1 - Math.pow(alphaMin, 1 / 300) // 0.02276277904418933
alphaTarget = 0,
velocityDecay = 0.6,
// ...
&lt;/code>&lt;/pre>
&lt;p>&lt;code>alpha&lt;/code>Îäî Îß§ &lt;code>tick&lt;/code>ÎßàÎã§ &lt;code>alpha += (alphaTarget - alpha) * alphaDecay&lt;/code>Î°ú Í≥ÑÏÇ∞ÎêòÏñ¥ Í∞êÏÜåÌï©ÎãàÎã§. ÎòêÌïú, Îß§ &lt;code>tick&lt;/code>ÎßàÎã§ &lt;code>alpha&lt;/code>ÏôÄ &lt;code>alphaMin&lt;/code>Î•º ÎπÑÍµêÌï©ÎãàÎã§. &lt;code>alpha&lt;/code>Í∞Ä &lt;code>alphaMin&lt;/code>Î≥¥Îã§ ÏûëÏïÑÏßà ÎïåÍπåÏßÄ simulationÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">simulation.on('tick', () =&amp;gt; {
console.log(simulation.alpha());
// 001: 0.9772372209558107 = 1 + (0 - 1) * 0.02276277904418933;
// 002: 0.9549925860214359 = alpha + (alphaTarget - alpha) * alphaDecay
// ...
// 300: 0.0009999999999999966 Ï¢ÖÎ£å: alphaMin(0.001) ÎØ∏Îßå
});
&lt;/code>&lt;/pre>
&lt;p>&lt;code>alphaTarget&lt;/code>ÏùÄ &lt;code>alpha&lt;/code>Ïùò ÎèÑÎã¨ Î™©ÌëúÏûÖÎãàÎã§. &lt;code>alpha&lt;/code>Îäî &lt;code>alphaTarget&lt;/code>Ïóê ÎèÑÎã¨Ìï† ÎïåÍπåÏßÄ Í∞êÏÜåÌï©ÎãàÎã§. &lt;code>alphaTarget&lt;/code>Ïù¥ &lt;code>alphaMin&lt;/code>Î≥¥Îã§ ÌÅ¨Îã§Î©¥ &lt;code>alpha&lt;/code>Í∞Ä &lt;code>alphaMin&lt;/code>Ïóê ÎèÑÎã¨Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú simulationÏùÄ Ï¢ÖÎ£åÎêòÏßÄ ÏïäÍ≥† Í≥ÑÏÜç Ïã§ÌñâÎê©ÎãàÎã§. ÎÇòÏ§ëÏóê d3-dragÎ•º Ï†ÅÏö©Ìï† Îïå Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎûò ÏΩîÎìúÏóêÏÑú &lt;code>alphaTarget&lt;/code>ÏúºÎ°ú &lt;code>alpha&lt;/code>Í∞Ä &lt;code>1&lt;/code>Î∂ÄÌÑ∞ &lt;code>0.5&lt;/code>ÍπåÏßÄ Í∞êÏÜåÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌñàÏäµÎãàÎã§. ÌïòÏßÄÎßå &lt;code>alpha&lt;/code>Í∞Ä &lt;code>0.6&lt;/code> ÎØ∏ÎßåÏúºÎ°ú Í∞êÏÜåÌñàÏùÑ Îïå simulationÏù¥ Ï¢ÖÎ£åÎêòÎØÄÎ°ú &lt;code>0.5&lt;/code>ÍπåÏßÄ Í∞êÏÜåÌï† ÏùºÏùÄ ÏóÜÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">simulation.alphaMin(0.6).alphaTarget(0.5);
simulation.on('tick', () =&amp;gt; {
console.log(simulation.alpha());
// 001: 0.9886186104779053
// 002: 0.9774962930107179
// ...
// 070: 0.5997631157484438 Ï¢ÖÎ£å: alphaMin(0.6) ÎØ∏Îßå
});
&lt;/code>&lt;/pre>
&lt;p>ÏïÑÎûò ÏΩîÎìúÏóêÏÑ† &lt;code>alpha&lt;/code>Í∞Ä &lt;code>0.4&lt;/code> Ïù¥ÌïòÎ°ú Í∞êÏÜåÌï¥ÏïºÎßå Ï¢ÖÎ£åÎê©ÎãàÎã§. ÌïòÏßÄÎßå, &lt;code>alphaTarget&lt;/code>Ïóê ÏùòÌï¥ &lt;code>0.4&lt;/code>Î≥¥Îã§ ÏûëÏïÑÏßà Ïàò ÏóÜÏäµÎãàÎã§. Í≥†Î°ú, simulationÏù¥ Ï¢ÖÎ£åÎêòÏßÄ ÏïäÏäµÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">simulation.alphaMin(0.4).alphaTarget(0.5);
simulation.on('tick', () =&amp;gt; {
console.log(simulation.alpha());
// 001: 0.9886186104779053
// 002: 0.9774962930107179
// ...
// 300: 0.5005000000000002
// 301: ÏßÑÌñâ Ï§ë...
});
&lt;/code>&lt;/pre>
&lt;p>&lt;code>alphaDecay&lt;/code>Îäî &lt;code>alpha&lt;/code>Ïùò Í∞êÏÜåÎüâÏûÖÎãàÎã§. ÏàòÍ∞Ä ÌÅ¥ÏàòÎ°ù &lt;code>alpha&lt;/code>Îäî &lt;code>alphaMin&lt;/code>Ïóê Îπ†Î•¥Í≤å ÎèÑÎã¨Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>velocityDecay&lt;/code>Îäî &lt;code>node.vx&lt;/code>, &lt;code>node.vy&lt;/code> Í∞íÏùò Í∞êÏÜåÎüâÏûÖÎãàÎã§. Íµ¨ÌòÑ ÏΩîÎìúÏóêÏÑ† &lt;code>node.x += node.vx *= velocityDecay;&lt;/code>Î°ú ÏûëÏÑ±ÎêòÏñ¥ ÏûàÎäîÎç∞, &lt;code>node.vx *= velocityDecay&lt;/code>Î•º Î®ºÏ†Ä Ïó∞ÏÇ∞ÌïòÍ≥† &lt;code>node.x += node.vx&lt;/code>Î•º Ïó∞ÏÇ∞Ìï©ÎãàÎã§. &lt;code>0&lt;/code>ÏúºÎ°ú ÏÑ§Ï†ïÌïòÎ©¥ simulationÏù¥ Ï¢ÖÎ£åÎê† ÎïåÍπåÏßÄ ÏÜçÎèÑÎ•º Í≥ÑÏÜç Ïú†ÏßÄÌï©ÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="forceshttpsgithubcomd3d3-forceforces">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#forces"
target="_blank" rel="noopener noreferrer nofollow"
>Forces&lt;/a
>
&lt;/h2>
&lt;p>ForcesÎäî simulationÏóêÏÑú &lt;code>node&lt;/code>Ïóê Ï†ÅÏö©Ìï† Î¨ºÎ¶¨Ï†Å ÌûòÏûÖÎãàÎã§. Ï≤ôÎ†• ÌòπÏùÄ Ïù∏Î†•ÏùÑ Ï†ÅÏö©ÌïòÍ±∞ÎÇò, ÏùºÏ†ï Í±∞Î¶¨Î•º Ïú†ÏßÄÌïòÍ≤åÎÅî Ìï©ÎãàÎã§. Î™áÍ∞ÄÏßÄ Î™®ÎìàÏùÑ Ïù¥Ïö©Ìï¥ forceÎ•º Ï†ÅÏö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. Links, many-body, centering, collision, positioningÏóê ÎåÄÌï¥ ÏïåÏïÑÎ¥ÖÏãúÎã§.&lt;/p>
&lt;h3 id="linkshttpsgithubcomd3d3-forcelinks">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#links"
target="_blank" rel="noopener noreferrer nofollow"
>Links&lt;/a
>
&lt;/h3>
&lt;p>Link forceÎäî &lt;code>node&lt;/code>Î•º Ïó∞Í≤∞ÌïòÍ≥† ÏùºÏ†ï Í±∞Î¶¨Î•º Ïú†ÏßÄÌïòÎäî ÌûòÏûÖÎãàÎã§. ÏúÑÏóêÏÑú Ïñ∏Í∏âÌñàÎìØ &lt;code>simulation.force()&lt;/code>ÏôÄ &lt;code>d3.forceLink()&lt;/code>Î°ú ÏÉùÏÑ±Ìï©ÎãàÎã§. Ïù¥ Í≥ºÏ†ïÏóêÏÑú &lt;code>distance&lt;/code>ÏôÄ &lt;code>strength&lt;/code>Î•º Ïù¥Ïö©Ìï¥ Í±∞Î¶¨ÏôÄ Í±∞Î¶¨Î•º Ïú†ÏßÄÌï† ÌûòÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceLink = d3
.forceLink(links)
.id(({ id }) =&amp;gt; id)
.distance(100)
.strength(1);
simulation.force('link', forceLink);
&lt;/code>&lt;/pre>
&lt;p>&lt;code>strength&lt;/code>Îäî &lt;code>distance&lt;/code>Î°ú ÏÑ§Ï†ïÌïú ÏùºÏ†ï Í±∞Î¶¨Î•º Ïú†ÏßÄÌïòÎäî ÌûòÏûÖÎãàÎã§. &lt;code>0&lt;/code>Î∂ÄÌÑ∞ &lt;code>1&lt;/code> ÏÇ¨Ïù¥Î•º Ï∂îÏ≤úÌï©ÎãàÎã§&lt;/p>
&lt;h3 id="many-bodyhttpsgithubcomd3d3-forcemany-body">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#many-body"
target="_blank" rel="noopener noreferrer nofollow"
>Many-Body&lt;/a
>
&lt;/h3>
&lt;p>Many Body forceÎäî &lt;code>nodes&lt;/code>Ïóê Ï≤ôÎ†• ÌòπÏùÄ Ïù∏Î†•ÏùÑ Ï†ÅÏö©Ìï©ÎãàÎã§. &lt;code>simulation.force()&lt;/code>ÏôÄ &lt;code>d3.forceManyBody()&lt;/code>Î°ú ÏÉùÏÑ±Ìï©ÎãàÎã§. Ïù¥ ÎòêÌïú, &lt;code>strength&lt;/code>Î°ú Ï†ÅÏö©Ìï† ÌûòÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§. Ï†ÑÎã¨Ìïú ÏàòÍ∞Ä ÏñëÏàòÎùºÎ©¥ Ïù∏Î†•, ÏùåÏàòÎùºÎ©¥ Ï≤ôÎ†•ÏûÖÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceManyBody = d3
.forceManyBody()
.strength(-300);
simulation.force('manyBody', forceManyBody);
&lt;/code>&lt;/pre>
&lt;p>Ï∞∏Í≥†Î°ú ÎßéÏùÄ ÏòàÏãúÏóêÏÑú &lt;code>force('manyBody', forceManyBody)&lt;/code>Í∞Ä ÏïÑÎãå &lt;code>force('charge', forceCharge)&lt;/code>Î°ú ÎêòÏñ¥ÏûàÏßÄÎßå Ïù¥Î¶ÑÏùÄ Ï†ÑÌòÄ Ï§ëÏöîÌïòÏßÄ ÏïäÏäµÎãàÎã§. Îã®ÏàúÌûà ÏãùÎ≥ÑÏûê Ïó≠Ìï†ÏùÑ ÏàòÌñâÌïòÎØÄÎ°ú Îã§Î•∏ forceÏôÄ Íµ¨Î∂ÑÎßå Í∞ÄÎä•ÌïòÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;h3 id="centeringhttpsgithubcomd3d3-forcecentering">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#centering"
target="_blank" rel="noopener noreferrer nofollow"
>Centering&lt;/a
>
&lt;/h3>
&lt;p>Centering forceÎäî &lt;code>nodes&lt;/code>Ïùò Ï§ëÏã¨Ïù¥ ÏßÄÏ†ïÌïú Ï¢åÌëú(x, y)Ïóê ÏúÑÏπòÌïòÎèÑÎ°ù Ìï©ÎãàÎã§. &lt;code>simulation.force()&lt;/code>ÏôÄ &lt;code>d3.forceCenter()&lt;/code>Î°ú ÏÉùÏÑ±Ìï©ÎãàÎã§. Viewport ÏÉÅÏóêÏÑú Ï†ïÏ§ëÏïôÏóê ÏúÑÏπòÌï¥Ïïº Ìï† Îïå Ï†ÅÏö©Ìï©ÎãàÎã§. &lt;code>strength&lt;/code>Î•º Ïù¥Ïö©ÌïòÎ©¥ Î∂ÄÎìúÎü¨Ïö¥ ÏõÄÏßÅÏûÑÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceCenter = d3
.forceCenter(width / 2, height / 2)
.strength(0.1);
simulation.force('center', forceCenter);
&lt;/code>&lt;/pre>
&lt;p>&lt;code>resize&lt;/code> Ïù¥Î≤§Ìä∏ ÌòπÏùÄ &lt;a
class="underline-lsre"
href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver"
target="_blank" rel="noopener noreferrer nofollow"
>ResizeObserver&lt;/a
>
Î°ú ÌÅ¨Í∏∞ Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÍ≥† &lt;code>nodes&lt;/code>Í∞Ä Ìï≠ÏÉÅ Ï§ëÏïôÏóê ÏúÑÏπòÌïòÎèÑÎ°ù Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="collisionhttpsgithubcomd3d3-forcecollision">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#collision"
target="_blank" rel="noopener noreferrer nofollow"
>Collision&lt;/a
>
&lt;/h3>
&lt;p>Collision forceÎäî &lt;code>nodes&lt;/code>Í∞Ä ÏÑúÎ°ú Í≤πÏπòÎäî Í≤ÉÏùÑ Î∞©ÏßÄÌïòÎäî ÌûòÏûÖÎãàÎã§. &lt;code>simulation.force()&lt;/code>ÏôÄ &lt;code>d3.forceCollide()&lt;/code>Î°ú ÏÉùÏÑ±Ìï©ÎãàÎã§. &lt;code>node&lt;/code>Î•º Ï†êÏù¥ ÏïÑÎãå ÏõêÏúºÎ°ú Ï∑®Í∏âÌïòÏó¨ Ï∂©Îèå Ïó¨Î∂ÄÎ•º ÌôïÏù∏ÌïòÍ≥† &lt;code>radius&lt;/code>Î°ú ÏõêÏùò Î∞òÏßÄÎ¶ÑÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§. &lt;code>strength&lt;/code>Î°ú Í≤πÏπ† Îïå ÏÑúÎ°ú Î∞ÄÏñ¥ÎÇº ÌûòÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceCollide = d3
.forceCollide()
.radius(5)
.strength(0.8);
simulation.force('collide', forceCollide);
&lt;/code>&lt;/pre>
&lt;h3 id="positioninghttpsgithubcomd3d3-forcepositioning">&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force#positioning"
target="_blank" rel="noopener noreferrer nofollow"
>Positioning&lt;/a
>
&lt;/h3>
&lt;p>Positioning forceÎäî ÏßÄÏ†ïÌïú Ï¢åÌëú(x, y)Î°ú &lt;code>nodes&lt;/code>Î•º Î∞ÄÏñ¥ÎÇ¥Îäî ÌûòÏûÖÎãàÎã§. &lt;code>simulation.force()&lt;/code>ÏôÄ &lt;code>d3.forceX()&lt;/code> Í∑∏Î¶¨Í≥† &lt;code>d3.forceY()&lt;/code>Î°ú ÏÉùÏÑ±Ìï©ÎãàÎã§. &lt;code>strength&lt;/code>Î°ú Î∞ÄÏñ¥ÎÇ¥Îäî ÌûòÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceX = d3.forceX().strength(1);
const forceY = d3.forceY(height / 2);
simulation.force('x', forceX).force('y', forceY);
&lt;/code>&lt;/pre>
&lt;p>&lt;code>d3.forceRadial()&lt;/code> Ìï®ÏàòÎäî ÏõêÌòïÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Î∞ÄÏñ¥ÎÇ¥Îäî ÌûòÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§. &lt;code>strength&lt;/code>Î°ú Î∞ÄÏñ¥ÎÇ¥Îäî ÌûòÏùÑ Í≤∞Ï†ïÌï©ÎãàÎã§.&lt;/p>
&lt;pre>&lt;code class="language-js">const forceRadial = d3
.forceRadial(100, width / 2, height / 2)
.strength(0.5);
simulation.force('radial', forceRadial);
&lt;/code>&lt;/pre>
&lt;hr>
&lt;h2 id="conclusion">Conclusion&lt;/h2>
&lt;p>d3-forceÏùò Í∞úÎÖêÍ≥º ÎèôÏûë Î∞©ÏãùÏùÑ ÏΩîÎìúÏôÄ Ìï®Íªò ÏÇ¥Ìé¥Î≥¥ÏïòÏäµÎãàÎã§. d3-forceÏùò simulation, tickÏùÑ Ï°∞Ï†àÌï† Ïàò ÏûàÎäî alpha Í∑∏Î¶¨Í≥† forceÏùò Ï¢ÖÎ•òÏóê ÎåÄÌï¥ÏÑú ÏïåÏïÑÎ¥§ÏäµÎãàÎã§. Ï≤òÏùå Î≥º Îïê Ïñ¥Î†§ÏõåÎ≥¥Ïùº Ïàò ÏûàÍ≤†ÏßÄÎßå ÏïåÏïÑÏïº Ìï† Í∞úÎÖêÏù¥ Í∑∏Î¶¨ ÎßéÏßÄ ÏïäÍ≥† Ïù¥Ìï¥ÌïòÍ∏∞ Ïâ¨Ïö¥ ÏΩîÎìúÏôÄ Ìå®ÌÑ¥ÏúºÎ°ú Í∏àÎ∞© ÏùµÌûê Ïàò ÏûàÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÏßÅ d3-selectionÎ•º Îã§Î£®ÏßÄ ÏïäÏïÑ Í≥ÑÏÇ∞ Í≤∞Í≥ºÍ∞íÏúºÎ°ú Í∑∏ÎûòÌîÑÎ•º Í∑∏Î†§Î≥¥ÏßÑ ÏïäÏïòÏäµÎãàÎã§Îßå, Îã§Ïùå ÏãúÍ∞ÑÏóê d3-selectionÏùÑ ÌïôÏäµÌïòÎ©¥ÏÑú SVGÎ°ú Í∑∏ÎûòÌîÑÎ•º Í∑∏Î†§Î≥¥Í≥† Ïù¥ÌõÑ d3-zoomÍ≥º d3-dragÎ•º Ï†ÅÏö©Ìï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;hr>
&lt;h2 id="references">References&lt;/h2>
&lt;ul>
&lt;li>&lt;a
class="underline-lsre"
href="https://github.com/d3/d3-force"
target="_blank" rel="noopener noreferrer nofollow"
>d3-force&lt;/a
>
&lt;/li>
&lt;li>&lt;a
class="underline-lsre"
href="https://stackoverflow.com/q/46426072/9735184"
target="_blank" rel="noopener noreferrer nofollow"
>What is the difference between alphaTarget and alphaMin?&lt;/a
>
&lt;/li>
&lt;/ul></description></item></channel></rss>