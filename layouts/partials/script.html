{{ with .Site.Params.highlight }}
  {{ $cdn := printf "https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@%s/build" .version }}
  {{ partial "load-style" (dict "url" (printf "%s/styles/%s.min.css" $cdn .theme)) }}
  <script defer type="module">
    import hljs from "{{ $cdn }}/es/highlight.min.js";
    import dart from "{{ $cdn }}/es/languages/dart.min.js";
    hljs.configure({})
    hljs.registerLanguage("dart", dart);
    hljs.highlightAll();
  </script>
{{ end }}

{{ with .Site.Config.Services.GoogleAnalytics.ID }}
  <script async>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        "gtm.start": new Date().getTime(),
        event: "gtm.js",
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-PFTW4CN");
  </script>
{{ end }}


<script async>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/js/sw.js");
  }
</script>

<script async type="module" src="/js/main.js"></script>
