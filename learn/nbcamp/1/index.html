<!doctype html><html lang=ko><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-SH0YPW4E1C"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SH0YPW4E1C")</script><meta charset=utf-8><meta name=viewport viewport-fit=cover content="width=device-width"><meta name=HandheldFriendly content="true"><meta name=robots content="index,follow"><link rel=sitemap type=application/xml href=/sitemap.xml><link rel=canonical href=https://jinyongp.dev/learn/nbcamp/1/><meta name=naver-site-verification content="c36f259891f25bc92e3884c1ceb626a0aaa76146"><link rel=alternate type=application/rss+xml href=https://jinyongp.dev/feed.xml title=jinyongp.dev><meta name=author content="jinyongp <dev.jinyongp@gmail.com>"><meta name=keywords content="iOS,내배캠,내일배움캠프,스파르타코딩클럽,nbcamp,dart,flutter"><link rel=manifest href=/manifest.webmanifest><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="jinyongp.dev"><meta name=apple-mobile-web-app-status-bar-style content="default"><meta name=theme-color content="rgb(65, 105, 225)"><meta property="og:site_name" content="jinyongp.dev"><meta property="og:title" content="[내배캠] 사전캠프"><meta property="og:type" content="website"><meta property="og:url" content="https://jinyongp.dev/learn/nbcamp/1/"><meta property="og:description" content="본 캠프에 앞서 앱 개발 전반의 이해를 위해 Dart와 Flutter를 학습합니다."><meta name=description content="본 캠프에 앞서 앱 개발 전반의 이해를 위해 Dart와 Flutter를 학습합니다."><title>[내배캠] 사전캠프</title><link rel=preload href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/styles/nord.min.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/styles/nord.min.css><script defer type=module>
    import hljs from "https:\/\/cdn.jsdelivr.net\/gh\/highlightjs\/cdn-release@11.8.0\/build/es/highlight.min.js";
    import dart from "https:\/\/cdn.jsdelivr.net\/gh\/highlightjs\/cdn-release@11.8.0\/build/es/languages/dart.min.js";
    hljs.configure({})
    hljs.registerLanguage("dart", dart);
    hljs.highlightAll();
  </script><script async>"serviceWorker"in navigator&&navigator.serviceWorker.register("/js/sw.js")</script><script async type=module src=/js/main.js></script>
<link rel=icon href=https://jinyongp.dev/favicon.ico><link rel=preload href=https://jinyongp.dev/main.min.css as=style><link rel=stylesheet href=https://jinyongp.dev/main.min.css><link rel=preload href="https://fonts.googleapis.com/css?family=Raleway&amp;display=swap" as=style><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway&amp;display=swap"><style>:root{--accent:65 105 225;--font:Raleway}</style></head><body><nav class=shadow-md><div class="layout flex justify-between text-gray-600"><ul class="flex gap-4 py-4"><li class=hover:text-accent><a title=Home href=/>Home</a></li><li class=hover:text-accent><a title=Posts href=/posts>Posts</a></li><li class=hover:text-accent><a class=text-accent title=Learn href=/learn>Learn</a></li><li class=hover:text-accent><a title=Series href=/series>Series</a></li></ul><ul class="flex gap-4 py-4"><li class="text-xl hover:text-accent grid place-items-center w-5"><a title=square-envelope href=mailto:dev.jinyongp@gmail.com target=_blank rel="noopener noreferrer nofollow"><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M64 32C28.7 32 0 60.7.0 96V416c0 35.3 28.7 64 64 64H384c35.3.0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM218 271.7 64.2 172.4C66 156.4 79.5 144 96 144H352c16.5.0 30 12.4 31.8 28.4L230 271.7c-1.8 1.2-3.9 1.8-6 1.8s-4.2-.6-6-1.8zm29.4 26.9L384 210.4V336c0 17.7-14.3 32-32 32H96c-17.7.0-32-14.3-32-32V210.4l136.6 88.2c7 4.5 15.1 6.9 23.4 6.9s16.4-2.4 23.4-6.9z"/></svg></i></a></li><li class="text-xl hover:text-accent grid place-items-center w-5"><a title=square-velog href=https://velog.io/@jinyongp target=_blank rel="noopener noreferrer nofollow"><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" style="transform:scale(.875)" viewBox="0 0 192 192"><path d="M24 0H168c13.255.0 24 10.7451 24 24V168c0 13.255-10.745 24-24 24H24c-13.2549.0-24-10.745-24-24V24C0 10.7451 10.7451.0 24 0zM49 57.9199V65.48H67l13.6799 77.04L98.5 141.26c17.52-22.2 29.34-38.82 35.46-49.8601C140.2 80.24 143.32 70.9399 143.32 63.5 143.32 59.0601 142 55.7 139.36 53.4199 136.84 51.1399 133.66 50 129.82 50 122.62 50 116.62 53.0601 111.82 59.1799 116.5 62.3 119.68 64.8799 121.36 66.9199c1.8 1.92020000000001 2.7 4.5 2.7 7.74C124.06 80.0601 122.44 86.1799 119.2 93.02 116.08 99.8601 112.66 105.92 108.94 111.2 106.54 114.56 103.48 118.7 99.76 123.62L88.0601 57.2C87.1001 52.3999 84.1001 50 79.0601 50 76.78 50 72.3999 50.96 65.9199 52.8799c-6.48 1.8-12.1199 3.4802-16.9199 5.04z"/></svg></i></a></li><li class="text-xl hover:text-accent grid place-items-center w-5"><a title=square-github href=https://github.com/jinyongp/ target=_blank rel="noopener noreferrer nofollow"><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M4e2 32H48C21.5 32 0 53.5.0 80v352c0 26.5 21.5 48 48 48h352c26.5.0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3.0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1.0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6s-28.4 1.9-41.6 5.6c0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7.0 13.9.2 36.5.2 40.6.0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3.0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4.0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6.0-3.7-1.5s-1.1-3.2.0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3.0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"/></svg></i></a></li></ul></div></nav><main><div class=layout><header class=text-center><h1 class="relative mt-16 mb-12 flex justify-center items-center gap-2">[내배캠] 사전캠프</h1><div class="flex justify-between items-center"><div><a href=https://jinyongp.dev/tags/nbcamp><kbd class="text-xs bg-accent text-white rounded px-1 py-0.5">nbcamp</kbd></a>
<a href=https://jinyongp.dev/tags/dart><kbd class="text-xs bg-accent text-white rounded px-1 py-0.5">dart</kbd></a>
<a href=https://jinyongp.dev/tags/flutter><kbd class="text-xs bg-accent text-white rounded px-1 py-0.5">flutter</kbd></a></div><span>Written on Jun 27, 2023</span></div><hr class="my-4 w-full"></header><div class="text-slate-500 grid grid-cols-1 gap-2 md:gap-20 md:grid-cols-2"><div></div><div><a title="Next Series ([내배캠] 첫번째 팀 프로젝트)" href=/learn/nbcamp/2/ class="flex flex-col gap-1 border border-current text-current rounded p-2 hover:text-accent text-right"><div class="flex items-center gap-1 [&_span]:font-bold justify-end"><span>NEXT</span>
<i class=mb-0.5><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M438.6 278.6c12.5-12.5 12.5-32.8.0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3.0s-12.5 32.8.0 45.3L338.8 224H32c-17.7.0-32 14.3-32 32s14.3 32 32 32h306.7L233.4 393.4c-12.5 12.5-12.5 32.8.0 45.3s32.8 12.5 45.3.0l160-160z"/></svg></i></div><span class="truncate whitespace-nowrap">[내배캠] 첫번째 팀 프로젝트</span></a></div></div><hr class=my-4><article class=content><h2 id=table-of-contents class="flex items-center gap-3">Table of Contents <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Table of Contents" href=#table-of-contents><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h2><ul><li><a class=underline-lsre href=#2023%eb%85%84-06%ec%9b%94-27%ec%9d%bc>2023년 06월 27일</a></li><li><a class=underline-lsre href=#2023%eb%85%84-06%ec%9b%94-28%ec%9d%bc>2023년 06월 28일</a></li><li><a class=underline-lsre href=#2023%eb%85%84-06%ec%9b%94-29%ec%9d%bc>2023년 06월 29일</a></li><li><a class=underline-lsre href=#2023%eb%85%84-06%ec%9b%94-30%ec%9d%bc>2023년 06월 30일</a></li></ul><hr><h2 id=2023년-06월-27일 class="flex items-center gap-3">2023년 06월 27일 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="2023년 06월 27일" href=#2023%eb%85%84-06%ec%9b%94-27%ec%9d%bc><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h2><p><a class=underline-lsre href=https://nbcamp-android-ios-unity.oopy.io/0dc0a70c-49ca-499c-b2df-965a2828cca6 target=_blank rel="noopener noreferrer nofollow">내일배움캠프 iOS 과정</a>을 본격적으로 시작하기에 앞서 앱 개발 전반의 이해를 위해 Dart와 Flutter를 학습했습니다.</p><p>지원을 거의 막바지에 하게 되었는데 사전캠프가 이미 진행 도중이었습니다. 다른 분들보다 진도가 느릴까 걱정되었지만, 본 캠프는 9 to 9(&mldr;) 과정이니만큼 사전캠프도 바쁘게 해보고자 최대한 빨리 나가고자 했습니다.</p><p>강의는 스파르타코딩클럽의 <a class=underline-lsre href=https://spartacodingclub.kr/nb/app target=_blank rel="noopener noreferrer nofollow">[왕초보] 플러터(Flutter)로 시작하는 앱개발 종합반</a>으로 진행했습니다.</p><h3 id=introduction class="flex items-center gap-3">Introduction <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=Introduction href=#introduction><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>Flutter는 크로스 플랫폼 개발을 위한 프레임워크로 Dart라는 언어로 작성합니다. 동일한 역할을 수행하는 React Native와 비교했을 때 등장 시기는 늦지만 등장부터 빠르게 치고 올라가 Github Star 수는 이미 압도적이라 할 수 있습니다.</p><p><img class=mx-auto alt="Star History Chart" src="https://api.star-history.com/svg?repos=flutter/flutter,facebook/react-native&amp;type=Date">
<a class=underline-lsre href=https://star-history.com/#flutter/flutter&amp;facebook/react-native target=_blank rel="noopener noreferrer nofollow">출처: Github Star History | Flutter vs. React Native</a></p><p>공식 문서 정리에 유튜브 채널까지&mldr;<br>심지어 성능 또한 네이티브 못지않게 빠르다고 하니 Flutter를 써보지 않을 이유가 없을 듯 합니다.</p><ul><li><a class=underline-lsre href=https://api.flutter.dev/ target=_blank rel="noopener noreferrer nofollow">Flutter Docs</a></li><li><a class=underline-lsre href=https://www.youtube.com/@flutterdev/videos target=_blank rel="noopener noreferrer nofollow">Youtube Flutter Channel</a></li></ul><h3 id=installation class="flex items-center gap-3">Installation <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=Installation href=#installation><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>brew로 flutter를 설치해줍시다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>bash</small><pre><code class="hljs language-bash">$ brew install --cask flutter</code></pre></div><p>설치 후 <code>flutter</code> 명령어를 사용할 수 있습니다. <code>doctor</code> 명령어로 정상적으로 설치됐는지 확인할 수 있습니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>bash</small><pre><code class="hljs language-bash">$ flutter doctor -v

Doctor summary (to see all details, run flutter doctor -v):
[✓] Flutter (Channel stable, 3.10.5, on macOS 13.4.1 22F82 darwin-arm64, locale en-KR)
[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)
    ✗ cmdline-tools component is missing
      Run `path/to/sdkmanager --install &#34;cmdline-tools;latest&#34;`
      See https://developer.android.com/studio/command-line for more details.
    ✗ Android license status unknown.
      Run `flutter doctor --android-licenses` to accept the SDK licenses.
      See https://flutter.dev/docs/get-started/install/macos#android-setup for more details.
[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)
[✓] Chrome - develop for the web
[✓] Android Studio (version 2022.2)
[✓] VS Code (version 1.79.2)
[✓] Connected device (2 available)
[✓] Network resources

! Doctor found issues in 1 category.</code></pre></div><p>문제없이 실행하기 위해 필요한 도구 중 없는 것을 알려줍니다. 구글에서 제작한 flutter에서 vscode 설치 여부를 확인하고 있는게 좀 당황스럽긴 하지만 그만큼 vscode를 대신할만한 에디터가 없다는거겠죠.</p><p>Android에서 문제가 발생했지만 노트북 용량이 부족하니 그냥 넘어가줍니다.</p><p>VSCode에서는 다음 두 가지 Extension을 설치합니다. Flutter extension을 설치하면 dart는 알아서 설치됩니다.</p><ul><li><a class=underline-lsre href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code" target=_blank rel="noopener noreferrer nofollow">Dart-Code.dart-code</a></li><li><a class=underline-lsre href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter" target=_blank rel="noopener noreferrer nofollow">Dart-Code.flutter</a></li></ul><p>Command Palette를 열고 <code>Dart: Use Recommended Settings</code> 명령어를 수행합니다. 추천하는 다트 설정을 vscode 전역 설정에 추가되는데 전 그게 싫어서 Workspace에 <code>.vscode/settings.json</code> 생성 후 옮겼습니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>bash</small><pre><code class="hljs language-bash">$ flutter create hello_flutter --empty
$ cd hello_flutter &amp;&amp; code .</code></pre></div><p>위 명령어로 프로젝트를 생성한 뒤 flutter 프로젝트를 시작합니다.</p><h3 id=practice class="flex items-center gap-3">Practice <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=Practice href=#practice><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>Flutter는 Widget이라고 불리는 가장 작은 단위의 모듈이 겹겹이 쌓여 전체 프로젝트를 구성합니다. 이를 위젯 트리라 부릅니다.</p><p><a class=underline-lsre href=https://docs.flutter.dev/ui/widgets target=_blank rel="noopener noreferrer nofollow">Widget Catalog</a>에서 다양한 위젯을 제공합니다. <a class=underline-lsre href=https://docs.flutter.dev/ui/widgets/cupertino target=_blank rel="noopener noreferrer nofollow">iOS 스타일의 Cupertino 위젯</a>과 <a class=underline-lsre href=https://docs.flutter.dev/ui/widgets/material target=_blank rel="noopener noreferrer nofollow">Android 스타일의 위젯</a>을 활용하면 쉽게 네이티브 스타일을 구현할 수 있습니다.</p><p>Command Palette에서 <code>Flutter: Launch Emulator</code> 명령을 실행하여 에뮬레이터의 실행을 마친 뒤, <code>lib/main.dart</code> 파일을 열고 <code>main</code> 함수 상단에 <code>Run</code>을 클릭하여 프로젝트를 실행합니다.</p><p>첫 주차에선 다양한 위젯을 활용하여 로그인 페이지와 간단한 영화 리스트 페이지를 작성했습니다.</p><h4 id=simple-login-page class="flex items-center gap-3">Simple Login Page <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Simple Login Page" href=#simple-login-page><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h4><iframe src="https://dartpad.dev/embed-flutter.html?id=9b26d4ef17f9b7df5f125ccd9f3b976a&split=60&theme=dark" style=width:100%;height:500px></iframe><ul><li>사용자가 입력하기 위해 입력폼을 클릭했을 때 올라오는 키보드에 입력폼이 가려지는 문제가 있습니다. <code>ListView</code>와 같이 scrollable한 위젯에선 발생하지 않는 문제지만 스크롤이 없을 때 발생합니다. 스크롤이 없는 단일 페이지에서 해당 문제가 발생할 시 <code>SingleChildScrollView</code> 위젯을 사용해야 합니다.</li></ul><h4 id=simple-movie-list class="flex items-center gap-3">Simple Movie List <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Simple Movie List" href=#simple-movie-list><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h4><iframe src="https://dartpad.dev/embed-flutter.html?id=a92d7ac36eae072383b19b8438df0a15&split=60&theme=dark" style=width:100%;height:500px></iframe><ul><li><code>ListView.builder</code> 위젯으로 리스트를 그릴 수 있습니다. <code>ListView</code>를 <code>Column</code>가 내부에서 사용할 때 <code>Vertical viewport was given unbounded height.</code> 에러가 발생할 수 있는데, <code>ListView</code>가 항상 최대 공간을 차지하려는 성질이 있어 높이가 무한대로 계산되는 문제가 발생하기 때문입니다. <code>Expanded</code> 위젯으로 감싸서 문제를 해결할 수 있습니다.</li></ul><h2 id=2023년-06월-28일 class="flex items-center gap-3">2023년 06월 28일 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="2023년 06월 28일" href=#2023%eb%85%84-06%ec%9b%94-28%ec%9d%bc><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h2><p>오늘은 간단하게 StatelessWidget과 StatefulWidget 그리고 Navigation에 대해 학습했습니다. (이번이 2주차 내용입니다.)</p><iframe src="https://dartpad.dev/embed-flutter.html?id=88bf678d41cdd472009b50585f45304b&split=60&theme=dark" style=width:100%;height:500px></iframe><h3 id=statelesswidget-vs-statefulwidget class="flex items-center gap-3">StatelessWidget vs. StatefulWidget <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="StatelessWidget vs. StatefulWidget" href=#statelesswidget-vs-statefulwidget><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><ul><li>StatelessWidget: 상태가 없는 위젯으로 처음에 한번만 <code>build</code>를 호출합니다.</li><li>StatefulWidget: 상태를 가진 위젯으로 상태가 변경될 때마다 <code>build</code> 메서드를 호출하여 다시 그립니다.</li></ul><p>위 두 위젯은 보통 상속하여 <code>build</code> 메서드를 override하는 방식으로 사용합니다. StatefulWidget은 State를 변경하는 클래스가 별도로 필요합니다.</p><h3 id=navigation class="flex items-center gap-3">Navigation <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=Navigation href=#navigation><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>Navigation은 Route라고 불리는 페이지를 전환하는 것을 의미하고 <code>Navigator</code> 위젯으로 수행합니다. <code>push</code>로 페이지를 이동하고 <code>pop</code>으로 이전 페이지로 이동할 수 있습니다.</p><h3 id=당근마켓daangn-앱-클론 class="flex items-center gap-3">당근마켓(Daangn) 앱 클론 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="당근마켓(Daangn) 앱 클론" href=#%eb%8b%b9%ea%b7%bc%eb%a7%88%ec%bc%93daangn-%ec%95%b1-%ed%81%b4%eb%a1%a0><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><iframe src="https://dartpad.dev/embed-flutter.html?id=2eef886fac601cbee5bceebdd320a255&split=60&theme=dark" style=width:100%;height:500px></iframe><p>Stateful한 Feed 위젯을 구현해보았고, 파일을 분리하여 작성해보았습니다. (dartpad는 파일 분리를 지원하지 않아 main.dart에 전부 있습니다&mldr;. <a class=underline-lsre href=https://github.com/dart-lang/dart-pad/issues/2149 target=_blank rel="noopener noreferrer nofollow">22년도에 올라온 이슈인데...</a>)</p><p>여기서 놀랐던 점은 <code>ListView.builder</code>에 <code>itemCount</code>를 명시하지 않으면 리스트 요소를 무한히 만들어낸다는 점입니다. 예전에 Recycle Scrolling을 구현하면서 겪은 제한으로는 적어도 요소의 최소 크기가 결정되어 있어야 하고, 요소의 개수를 어느정도 알고 있어야 했는데 그런거 없이 무한정 그려낼 수 있다는 점이 놀라웠습니다.</p><p><a class=underline-lsre href=https://docs.flutter.dev/get-started/flutter-for/android-devs#how-do-i-update-listviews-dynamically target=_blank rel="noopener noreferrer nofollow">해당 문서</a>에서 <code>ListView</code> 자체가 내부적으로 요소를 재활용(recycle)하는 동작으로 수행됨을 알 수 있습니다.</p><blockquote><p>The recommended, efficient, and effective way to build a list uses a ListView.Builder. This method is great when you have a dynamic List or a List with very large amounts of data. This is essentially the equivalent of RecyclerView on Android, which automatically recycles list elements for you&mldr;</p></blockquote><h3 id=샤잠shazam-앱-클론 class="flex items-center gap-3">샤잠(Shazam) 앱 클론 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="샤잠(Shazam) 앱 클론" href=#%ec%83%a4%ec%9e%a0shazam-%ec%95%b1-%ed%81%b4%eb%a1%a0><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><iframe src="https://dartpad.dev/embed-flutter.html?id=252f87e790119799f8be13d1c7875a6d&split=60&theme=dark" style=width:100%;height:500px></iframe><p>사실 과제는 페이지 세 개 중 하나를 택해 수행하는 건데 그까이꺼 전부 클론해봤습니다. 리팩토링이 필요한 부분이 굉장히 많아보이긴 하지만&mldr; 항상 언젠가 한다는 마음가짐으로&mldr;</p><p>탭 생성 및 이동 방법에 대해서 알게 되었고, 많고 많은 삽질을 하며 스크롤 요소를 어디에 어떻게 배치해야하는지 요령을 습득했습니다.</p><p>가장 난해했던 부분&mldr; overflow&mldr; Scrollable하지 않은 페이지에서 요소가 화면을 벗어나면 <code>A ListView A RenderFlex overflowed by &lt;number> pixels on the bottom.</code> 에러가 발생합니다. Scrollable하게 만들어주기 위해 <code>SingleChildScrollView</code>를 이용하거나 <code>ListView</code>로 감싸줘야하고, <code>Expanded</code>로 감싸야합니다.</p><hr><h2 id=2023년-06월-29일 class="flex items-center gap-3">2023년 06월 29일 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="2023년 06월 29일" href=#2023%eb%85%84-06%ec%9b%94-29%ec%9d%bc><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h2><p>오늘은 심플한 메모앱을 만들면서 CRUD 기능 구현과 함께 상태 관리 패키지인 <a class=underline-lsre href=https://pub.dev/packages/provider target=_blank rel="noopener noreferrer nofollow">Provider</a> 그리고 <a class=underline-lsre href=https://pub.dev/packages/shared_preferences target=_blank rel="noopener noreferrer nofollow">shared_preferences</a>를 이용하여 데이터를 기기에 저장하여 앱을 종료 후 다시 열어도 정보가 유지되도록 기능을 구현했습니다.</p><p>flutter의 패키지는 <a class=underline-lsre href=https://pub.dev/ target=_blank rel="noopener noreferrer nofollow">pub.dev</a>에서 조회할 수 있습니다. 패키지를 설치하기 위해서도 <code>flutter pub</code> 명령어를 사용합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>bash</small><pre><code class="hljs language-bash">$ flutter pub add provider shared_preferences</code></pre></div><h3 id=provider class="flex items-center gap-3">Provider <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=Provider href=#provider><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>Provider는 flutter의 상태 관리 패키지로 전역에서 데이터를 쥐고 제어할 수 있는 서비스를 관리해줍니다. <code>Memo</code> 클래스와 함께 <code>MemoService</code>를 추가해보았습니다. <code>MemoService</code>는 메모 목록을 관리하고 CRUD 기능을 제공합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// lib/services/memo.dart

class Memo {
  Memo({ required this.content });

  String content;
}

class MemoService extends ChangeNotifier {
  List&lt;Memo&gt; memos = [];

  void create(String content) { ... }
  void update(int index, String content) { ... }
  void delete(int index) { ... }
}</code></pre></div><p><code>main.dart</code>의 <code>runApp</code>에 Provider를 통해 <code>MemoService</code>를 등록해야 합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// lib/main.dart
void main() {
  runApp(
    MultipleProvider(
      providers: [
        ChangeNotifierProvider(create: (_) =&gt; MemoService()),
      ],
      child: const MyApp(),
    ),
  );
}</code></pre></div><p>이제 위젯트리 전체를 <code>Consumer&lt;MemoService></code>로 감싸주면 <code>MemoService</code> 내에서 <code>notifyListeners()</code>가 호출될 때마다 전체 화면을 다시 그립니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">Widget build(BuildContext context) {
  return Consumer&lt;MemoService&gt;(builder: (context, memoService, child) {
    return Scaffold(
      ...
    )
  }
}</code></pre></div><p><code>Consumer</code>는 전체 화면을 다시 그리지만, 화면 리렌더링 없이 <code>MemoService</code>의 인스턴스를 가져오고 싶다면, <code>context.read&lt;MemoService>()</code>를 통해 가져올 수 있습니다.</p><h3 id=shared_preferences class="flex items-center gap-3">shared_preferences <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title=shared_preferences href=#shared_preferences><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p><code>SharedPreferences</code>는 앱을 껐다 켜도 데이터를 유지할 수 있는 기능을 제공합니다. 다만 <code>SharedPreferences</code>와 같이 데이터를 유지해줄 수 있는 방법은 다양하므로 언제든 교체할 수 있도록 외부에서 주입해주는 방식으로 구현했습니다.</p><p><code>MemoService</code>에 데이터를 저장하고 불러오는 함수를 매개변수를 받을 수 있게끔 추가합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">class MemoService extends ChangeNotifier {
  final List&lt;Memo&gt; _memos = [];
  final Future&lt;void&gt; Function(String payload)? save;
  final Future&lt;String?&gt; Function()? load;

  MemoService({
    this.save,
    this.load,
  }) {
    ...
  }
}</code></pre></div><p><code>main.dart</code>에서 <code>SharedPreferences</code>의 인스턴스를 생성한 후 데이터를 저장하고 불러오는 함수를 전달합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  SharedPreferences pref = await SharedPreferences.getInstance();
  runApp(MultiProvider(
    providers: [
      ChangeNotifierProvider(
        create: (_) =&gt; MemoService(
          save: (String payload) async =&gt; await pref.setString(&#34;memo&#34;, payload),
          load: () async =&gt; pref.getString(&#34;memo&#34;),
        ),
      ),
    ],
    child: const MyApp(),
  ));
}</code></pre></div><p><code>MemoService</code>에서 이를 적절하게 저장하고 불러올 때 호출합니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">String payload = jsonEncode(_memos.map((m) =&gt; m.toJson()).toList());
return save!(payload);</code></pre></div><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">String? payload = await load!();
if (payload == null) return;
_memos.clear();
_memos.addAll(jsonDecode(payload).map((e) =&gt; Memo.fromJson(e)));</code></pre></div><p>이로써 데이터를 항시 유지할 수 있고, 언제든 <code>main.dart</code>만 수정하여 데이터 유지 방식을 변경할 수 있습니다.</p><h3 id=my-memo class="flex items-center gap-3">My Memo <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="My Memo" href=#my-memo><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><iframe src="https://dartpad.dev/embed-flutter.html?id=beb656ed3cd6059afac59277a1d6ade8&split=60&theme=dark" style=width:100%;height:500px></iframe><p>구현한 앱은 다음의 기능을 제공합니다.</p><ul><li>하단 <code>+</code> 아이콘을 눌러 새로운 메모를 생성할 수 있습니다. (메모 작성 페이지로 이동합니다.)</li><li>아무런 내용을 작성하지 않는다면 메모가 추가되지 않습니다.</li><li>내용을 추가하고 뒤로 가기 버튼을 누르면 새로운 메모가 추가됩니다.</li><li>메모를 클릭하여 내용을 수정할 수 있습니다.</li><li>메모를 클릭하고 쓰레기통 아이콘을 눌러 삭제할 수 있습니다.</li><li>변경일 내림차순으로 정렬됩니다. (가장 최근에 변경된 메모가 상단에 위치합니다.)</li><li>고정한 메모를 상단으로 올립니다.</li><li>메모 목록은 앱을 종료 후 재시작해도 유지됩니다.</li></ul><h3 id=trouble-shooting class="flex items-center gap-3">Trouble Shooting <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Trouble Shooting" href=#trouble-shooting><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><ul><li><a class=underline-lsre href=https://stackoverflow.com/a/69671156 target=_blank rel="noopener noreferrer nofollow">shared_preferences 때문에 프로젝트가 실행되지 않을 때 대처법</a></li><li><code>SharedPreferences</code>의 인스턴스 변수를 전역에서 관리하는 것이 아닌, 데이터를 저장하고 불러오는 함수를 <code>MemoService</code>에 주입하는 방식으로 리팩토링했습니다. (강의에선 아마 콜백함수에 대한 내용을 학습하지 않았으므로 전역에서 관리하도록 구현하신 것 같습니다.)</li><li>웹에서는 <code>SharedPreferences</code>의 인스턴스를 생성할 수 없습니다. <code>shared_preferences_web</code>이 포함되어 있다는데 왜 동작을 안 하는지는 모르겠네요&mldr; <code>import 'package:flutter/foundation.dart' show kIsWeb;</code>를 불러와서 웹 환경이 아닐 때만 인스턴스를 생성하도록 수정했습니다.</li><li>날짜 포맷팅을 위해 <code>import 'package:intl/intl.dart';</code> 라이브러리를 추가로 활용했습니다.</li></ul><p>전반으로 리액트나 뷰와 비슷한 느낌이라 기능 구현은 별로 어렵진 않았어서 다트 언어에 더 익숙해질 수 있는 시간이었네요.</p><hr><h2 id=2023년-06월-30일 class="flex items-center gap-3">2023년 06월 30일 <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="2023년 06월 30일" href=#2023%eb%85%84-06%ec%9b%94-30%ec%9d%bc><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h2><p>5주차 강의는 HTTP API 요청 방법을 익혔습니다. 다음주는 광고 붙이는건데&mldr; 이번이 마지막일 듯 하네요.</p><h3 id=requesting-network-data class="flex items-center gap-3">Requesting Network Data <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Requesting Network Data" href=#requesting-network-data><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>HttpClient로는 <a class=underline-lsre href=https://pub.dev/packages/dio target=_blank rel="noopener noreferrer nofollow">dio</a> 패키지를 활용했습니다.<br>책 정보를 불러올 수 있는 Google API를 활용하여 Watcha Pedia 서비스를 구현했습니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// main.dart
void main() async {
  late SharedPreferences pref;
  if (!kIsWeb) {
    WidgetsFlutterBinding.ensureInitialized();
    pref = await SharedPreferences.getInstance();
  }
  runApp(MultiProvider(
    providers: [
      ChangeNotifierProvider(
        create: (_) =&gt; BookService(
          get: &lt;T&gt;(String query) async {
            String url =
                &#39;https://www.googleapis.com/books/v1/volumes?q=$query&amp;startIndex=0&amp;maxResults=40&#39;;
            Response res = await Dio().get(url);
            if (res.statusCode != 200) {
              throw Exception(&#39;http.get error: statusCode= ${res.statusCode}&#39;);
            }
            return res.data[&#39;items&#39;];
          },
          save: (String payload) =&gt; pref.setString(&#39;likedBooks&#39;, payload),
          load: () =&gt; pref.getString(&#39;likedBooks&#39;),
        ),
      ),
    ],
    child: const MainApp(),
  ));
}</code></pre></div><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// services/book.dart
final Future&lt;T&gt; Function&lt;T&gt;(String url) get;

final FutureOr Function(String payload)? save;
final FutureOr Function()? load;

BookService({required this.get, this.save, this.load}) {
  _load().then((_) =&gt; notifyListeners());
}</code></pre></div><p><code>BookService</code> 클래스에서 책 정보를 가져오는 함수(<code>get</code>)와 정보를 저장(<code>save</code>)하고 불러오는(<code>load</code>) 함수를 주입할 수 있도록 구현했습니다.</p><h3 id=webview-page class="flex items-center gap-3">WebView Page <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="WebView Page" href=#webview-page><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>앱 상에서 외부 웹 링크 페이지를 띄우기 위해선 <code>webview_flutter</code> 패키지를 사용해야 합니다.<br>책 목록에서 책을 클릭하면 해당 책의 정보를 보여주는 페이지를 띄웁니다.</p><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// screens/webview.dart
class WebViewScreen extends StatelessWidget {
  WebViewScreen({
    super.key,
    required this.url,
  });

  String url;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Colors.grey,
        title: Text(url),
      ),
      body: WebView(initialUrl: url),
    );
  }
}</code></pre></div><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>dart</small><pre><code class="hljs language-dart">// widgets/book_tile.dart
onTap: () {
  Navigator.push(
    context,
    MaterialPageRoute(
      builder: (_) =&gt; WebViewScreen(
          url: book.previewLink.replaceFirst(&#39;http:&#39;, &#39;https:&#39;)),
    ),
  );
},</code></pre></div><h3 id=watcha-pedia class="flex items-center gap-3">Watcha Pedia <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Watcha Pedia" href=#watcha-pedia><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><iframe src="https://dartpad.dev/embed-flutter.html?id=7a51cd7685929c94d82ca0b707f69516&split=60&theme=dark" style=width:100%;height:500px></iframe><p>| Dartpad에서 <code>Image.network</code> 불러오기가 안 되는 문제가 있습니다.<br>| <code>dio</code>가 동작하지 않아, <code>http</code> 모듈로 대체했습니다.<br>| webview가 동작하지 않습니다.</p><h3 id=project-structure class="flex items-center gap-3">Project Structure <i class="transition opacity-10 hover:opacity-100 text-[0.8em] scale-90 hover:scale-100 -rotate-45 hover:-rotate-90"><a title="Project Structure" href=#project-structure><i><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M0 160v96C0 379.7 100.3 480 224 480s224-100.3 224-224V160H320v96c0 53-43 96-96 96s-96-43-96-96V160H0zm0-32H128V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3.0 64v64zm320 0H448V64c0-17.7-14.3-32-32-32H352c-17.7.0-32 14.3-32 32v64z"/></svg></i></a></i></h3><p>Dartpad에서는 확인할 수 없지만, 프로젝트 구조에 대해 고민해보았습니다.</p><ul><li>screens: 화면</li><li>models: 데이터 모델 (자료구조)</li><li>services: 서비스 (비즈니스 로직)</li><li>widgets: 위젯 (컴포넌트)</li></ul><div class="relative rounded-md overflow-hidden my-4 group"><small class="absolute top-0 right-0 bg-black/30 capitalize font-black text-xs text-white rounded-bl-md px-2 py-1 transition-opacity opacity-0 group-hover:opacity-100"><span class=sr-only>Language:</span>txt</small><pre><code class="hljs language-txt">lib/
 ├── models/
 │  └── book.dart
 ├── screens/
 │  ├── home.dart
 │  ├── like.dart
 │  ├── search.dart
 │  └── webview.dart
 ├── services/
 │  └── book.dart
 ├── widgets/
 │  └── book_tile.dart
 └── main.dart</code></pre></div></article><script src=https://giscus.app/client.js data-repo=jinyongp/jinyongp.dev data-repo-id=R_kgDOHJDtcg data-category=Comments data-category-id=DIC_kwDOHJDtcs4CXf7o data-mapping=title data-strict=0 data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=ko crossorigin=anonymous async></script><div class=h-24></div></div></main><footer class="absolute bottom-0 w-full"><div class="flex justify-center py-8"><p class="[&_a]:text-accent text-center text-sm">Copyright 2023. Jinyong Park. All rights reserved.<br><span class=text-xs>Powered by
<a title="Go to Hugo Site" href=https://gohugo.io target=_blank rel="noopener noreferrer nofollow">Hugo</a>
| Developed on
<a title="Go to Github Repo" href=https://github.com/jinyongp/jinyongp.github.io target=_blank rel="noopener noreferrer nofollow">Here</a></span></p></div></footer><div id=js-scroll-back-to-top class="back-to-top hide"><i class=text-accent><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M288 0c17.7.0 32 14.3 32 32V49.7C451.8 63.4 557.7 161 573.9 285.9c2 15.6-17.3 24.4-27.8 12.7C532.1 283 504.8 272 480 272c-38.7.0-71 27.5-78.4 64.1-1.7 8.7-8.7 15.9-17.6 15.9s-15.8-7.2-17.6-15.9C359 299.5 326.7 272 288 272s-71 27.5-78.4 64.1c-1.7 8.7-8.7 15.9-17.6 15.9s-15.8-7.2-17.6-15.9C167 299.5 134.7 272 96 272c-24.8.0-52.1 11-66.1 26.7C19.4 310.4.1 301.5 2.1 285.9 18.3 161 124.2 63.4 256 49.7V32c0-17.7 14.3-32 32-32zm0 304c12.3.0 23.5 4.6 32 12.2V430.6c0 45-36.5 81.4-81.4 81.4-30.8.0-59-17.4-72.8-45l-2.3-4.7c-7.9-15.8-1.5-35 14.3-42.9s35-1.5 42.9 14.3l2.3 4.7c3 5.9 9 9.6 15.6 9.6 9.6.0 17.4-7.8 17.4-17.4V316.2c8.5-7.6 19.7-12.2 32-12.2z"/></svg></i></div></body></html>