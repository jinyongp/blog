---
title: "[내일배움캠프] 사전캠프"
slug: 사전캠프
description: 본 캠프에 앞서 앱 개발 전반의 이해를 위해 Dart와 Flutter를 학습합니다.
date: 2023-06-27T11:16:56.190Z
lastmod: 2023-06-28T16:07:22.804Z
draft: false
tags:
  - dart
  - flutter
---

## 2023년 06월 28일

오늘은 간단하게 StatelessWidget과 StatefulWidget 그리고 Navigation에 대해 학습했습니다. (이번이 2주차 내용입니다.)

<iframe src="https://dartpad.dev/embed-flutter.html?id=88bf678d41cdd472009b50585f45304b&split=60&theme=dark" style="width:100%; height: 500px;"></iframe>

### StatelessWidget vs. StatefulWidget

- StatelessWidget: 상태가 없는 위젯으로 처음에 한번만 `build`를 호출합니다.
- StatefulWidget: 상태를 가진 위젯으로 상태가 변경될 때마다 `build` 메서드를 호출하여 다시 그립니다.

위 두 위젯은 보통 상속하여 `build` 메서드를 override하는 방식으로 사용합니다. StatefulWidget은 State를 변경하는 클래스가 별도로 필요합니다.

### Navigation

Navigation은 Route라고 불리는 페이지를 전환하는 것을 의미하고 `Navigator` 위젯으로 수행합니다. `push`로 페이지를 이동하고 `pop`으로 이전 페이지로 이동할 수 있습니다.

### 당근마켓(Daangn) 앱 클론

<iframe src="https://dartpad.dev/embed-flutter.html?id=2eef886fac601cbee5bceebdd320a255&split=60&theme=dark" style="width:100%; height: 500px;"></iframe>

Stateful한 Feed 위젯을 구현해보았고, 파일을 분리하여 작성해보았습니다. (dartpad는 파일 분리를 지원하지 않아 main.dart에 전부 있습니다.... [22년도에 올라온 이슈인데\.\.\.](https://github.com/dart-lang/dart-pad/issues/2149))

여기서 놀랐던 점은 `ListView.builder`에 `itemCount`를 명시하지 않으면 리스트 요소를 무한히 만들어낸다는 점입니다. 예전에 Recycle Scrolling을 구현하면서 겪은 제한으로는 적어도 요소의 최소 크기가 결정되어 있어야 하고, 요소의 개수를 어느정도 알고 있어야 했는데 그런거 없이 무한정 그려낼 수 있다는 점이 놀라웠습니다.

[해당 문서](https://docs.flutter.dev/get-started/flutter-for/android-devs#how-do-i-update-listviews-dynamically)에서 `ListView` 자체가 내부적으로 요소를 재활용(recycle)하는 동작으로 수행됨을 알 수 있습니다.

>The recommended, efficient, and effective way to build a list uses a ListView.Builder. This method is great when you have a dynamic List or a List with very large amounts of data. This is essentially the equivalent of RecyclerView on Android, which automatically recycles list elements for you...

### 샤잠(Shazam) 앱 클론

<iframe src="https://dartpad.dev/embed-flutter.html?id=252f87e790119799f8be13d1c7875a6d&split=60&theme=dark" style="width:100%; height: 500px;"></iframe>

사실 과제는 페이지 세 개 중 하나를 택해 수행하는 건데 그까이꺼 전부 클론해봤습니다. 리팩토링이 필요한 부분이 굉장히 많아보이긴 하지만... 항상 언젠가 한다는 마음가짐으로...

탭 생성 및 이동 방법에 대해서 알게 되었고, 많고 많은 삽질을 하며 스크롤 요소를 어디에 어떻게 배치해야하는지 요령을 습득했습니다.

가장 난해했던 부분... overflow... Scrollable하지 않은 페이지에서 요소가 화면을 벗어나면 `A ListView A RenderFlex overflowed by <number> pixels on the bottom.` 에러가 발생합니다. Scrollable하게 만들어주기 위해 `SingleChildScrollView`를 이용하거나 `ListView`로 감싸줘야하고, `Expanded`로 감싸야합니다.

---

## 2023년 06월 27일

[내일배움캠프 iOS 과정](https://nbcamp-android-ios-unity.oopy.io/0dc0a70c-49ca-499c-b2df-965a2828cca6)에 앞서 앱 개발 전반의 이해를 위해 Dart와 Flutter를 학습했습니다.

지원을 거의 막바지에 하게 되었는데 사전캠프가 이미 진행 도중이었습니다. 다른 분들보다 진도가 느릴까 걱정되었지만, 본 캠프는 9 to 9(...) 과정이니만큼 사전캠프도 바쁘게 해보고자 최대한 빨리 나가고자 했습니다. (국비 과정이라 하루에 최대 16개만 수강할 수 있는게 아쉽긴 합니다...)

강의는 스파르타코딩클럽의 [\[왕초보\] 플러터(Flutter)로 시작하는 앱개발 종합반](https://spartacodingclub.kr/nb/app)으로 진행했습니다.

### Introduction

Flutter는 크로스 플랫폼 개발을 위한 프레임워크로 Dart라는 언어로 작성합니다. 동일한 역할을 수행하는 React Native와 비교했을 때 등장 시기는 늦지만 등장부터 빠르게 치고 올라가 Github Star 수는 이미 압도적이라 할 수 있습니다.

![Star History Chart](https://api.star-history.com/svg?repos=flutter/flutter,facebook/react-native&type=Date)
[출처: Github Star History | Flutter vs. React Native](https://star-history.com/#flutter/flutter&facebook/react-native)

공식 문서 정리에 유튜브 채널까지...  
심지어 성능 또한 네이티브 못지않게 빠르다고 하니 Flutter를 써보지 않을 이유가 없을 듯 합니다.

- [Flutter Docs](https://api.flutter.dev/)
- [Youtube Flutter Channel](https://www.youtube.com/@flutterdev/videos)

### Installation

전 brew로 설치 가능하면 전부 brew로 설치하는 편입니다.

```sh
$ brew install --cask flutter
```

설치 후 `flutter` 명령어를 사용할 수 있습니다. `doctor` 명령어로 정상적으로 설치됐는지 확인할 수 있습니다.

```sh
$ flutter doctor -v

Doctor summary (to see all details, run flutter doctor -v):
[✓] Flutter (Channel stable, 3.10.5, on macOS 13.4.1 22F82 darwin-arm64, locale en-KR)
[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)
    ✗ cmdline-tools component is missing
      Run `path/to/sdkmanager --install "cmdline-tools;latest"`
      See https://developer.android.com/studio/command-line for more details.
    ✗ Android license status unknown.
      Run `flutter doctor --android-licenses` to accept the SDK licenses.
      See https://flutter.dev/docs/get-started/install/macos#android-setup for more details.
[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)
[✓] Chrome - develop for the web
[✓] Android Studio (version 2022.2)
[✓] VS Code (version 1.79.2)
[✓] Connected device (2 available)
[✓] Network resources

! Doctor found issues in 1 category.
```

문제없이 실행하기 위해 필요한 도구 중 없는 것을 알려줍니다. 구글에서 제작한 flutter에서 vscode 설치 여부를 확인하고 있는게 좀 당황스럽긴 하지만 그만큼 vscode를 대신할만한 에디터가 없다는거겠죠.

Android에서 문제가 발생했지만 노트북 용량이 부족하니 그냥 넘어가줍니다.

VSCode에서는 다음 두 가지 Extension을 설치합니다. Flutter extension을 설치하면 dart는 알아서 설치됩니다.

- [Dart-Code.dart-code](https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code)
- [Dart-Code.flutter](https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter)

Command Palette를 열고 `Dart: Use Recommended Settings` 명령어를 수행합니다. 추천하는 다트 설정을 vscode 전역 설정에 추가되는데 전 그게 싫어서 Workspace에 `.vscode/settings.json` 생성 후 옮겼습니다.

```sh
$ flutter create hello_flutter --empty
$ cd hello_flutter && code .
```

위 명령어로 프로젝트를 생성한 뒤 flutter 프로젝트를 시작합니다.

### Practice

Flutter는 Widget이라고 불리는 가장 작은 단위의 모듈이 겹겹이 쌓여 전체 프로젝트를 구성합니다. 이를 위젯 트리라 부릅니다.

[Widget Catalog](https://docs.flutter.dev/ui/widgets)에서 다양한 위젯을 제공합니다. [iOS 스타일의 Cupertino 위젯](https://docs.flutter.dev/ui/widgets/cupertino)과 [Android 스타일의 위젯](https://docs.flutter.dev/ui/widgets/material)을 활용하면 쉽게 네이티브 스타일을 구현할 수 있습니다.

Command Palette에서 `Flutter: Launch Emulator` 명령을 실행하여 에뮬레이터의 실행을 마친 뒤, `lib/main.dart` 파일을 열고 `main` 함수 상단에 `Run`을 클릭하여 프로젝트를 실행합니다.

첫 주차에선 다양한 위젯을 활용하여 로그인 페이지와 간단한 영화 리스트 페이지를 작성했습니다.

#### Simple Login Page

<iframe src="https://dartpad.dev/embed-flutter.html?id=9b26d4ef17f9b7df5f125ccd9f3b976a&split=60&theme=dark" style="width:100%; height: 500px;"></iframe>

- 사용자가 입력하기 위해 입력폼을 클릭했을 때 올라오는 키보드에 입력폼이 가려지는 문제가 있습니다. `ListView`와 같이 scrollable한 위젯에선 발생하지 않는 문제지만 스크롤이 없을 때 발생합니다. 스크롤이 없는 단일 페이지에서 해당 문제가 발생할 시 `SingleChildScrollView` 위젯을 사용해야 합니다.

#### Simple Movie List

<iframe src="https://dartpad.dev/embed-flutter.html?id=a92d7ac36eae072383b19b8438df0a15&split=60&theme=dark" style="width:100%; height: 500px;"></iframe>

- `ListView.builder` 위젯으로 리스트를 그릴 수 있습니다. `ListView`를 `Column`가 내부에서 사용할 때 `Vertical viewport was given unbounded height.` 에러가 발생할 수 있는데, `ListView`가 항상 최대 공간을 차지하려는 성질이 있어 높이가 무한대로 계산되는 문제가 발생하기 때문입니다. `Expanded` 위젯으로 감싸서 문제를 해결할 수 있습니다.
